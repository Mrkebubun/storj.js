var Storj={};Storj.Config={bridge:"https://api.storj.io"};Storj.Socket=function(a){var f;this.open=function(){f=new WebSocket(a.url);f.onopen=function(){a.onOpen()};f.onerror=function(){a.onError()};f.onmessage=function(d){a.onData(d)}};this.close=function(){f&&f.close();f=null};this.send=function(a,g){if(!f||1!=f.readyState)return!0;f.send(a);return null};this.open()};/*

(c) 2012 by C?dric Mesnil. All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
(function e$$0(f,d,g){function c(b,h){if(!d[b]){if(!f[b]){var e="function"==typeof require&&require;if(!h&&e)return e(b,!0);if(k)return k(b,!0);e=Error("Cannot find module '"+b+"'");throw e.code="MODULE_NOT_FOUND",e;}e=d[b]={exports:{}};f[b][0].call(e.exports,function(m){var e=f[b][1][m];return c(e?e:m)},e,e.exports,e$$0,f,d,g)}return d[b].exports}for(var k="function"==typeof require&&require,b=0;b<g.length;b++)c(g[b]);return c})({1:[function(a,f,d){Storj.Exports={};Storj.Exports.createHash=a("create-hash");
Storj.Exports.Buffer=a("buffer").Buffer;Storj.Exports.createDecipheriv=a("browserify-cipher").createDecipheriv},{"browserify-cipher":17,buffer:44,"create-hash":22}],2:[function(a,f,d){(function(a){function c(b){var m;return b>e||0>b?(m=Math.abs(b)%e,0>b?e-m:m):b}function k(b){for(;0<b.length;b++)b[0]=0;return!1}function b(){this.SBOX=[];this.INV_SBOX=[];this.SUB_MIX=[[],[],[],[]];this.INV_SUB_MIX=[[],[],[],[]];this.init();this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function l(b){for(var m=b.length/4,
e=Array(m),h=-1;++h<m;)e[h]=b.readUInt32BE(4*h);return e}function h(b){this._key=l(b);this._doReset()}var e=Math.pow(2,32);b.prototype.init=function(){var b,m,e,h,a,c,l,k,g;g=[];for(b=m=0;256>m;b=++m)128>b?g.push(b<<1):g.push(b<<1^283);for(k=l=e=0;256>k;++k)b=l^l<<1^l<<2^l<<3^l<<4,b=b>>>8^b&255^99,this.SBOX[e]=b,this.INV_SBOX[b]=e,h=g[e],a=g[h],c=g[a],m=257*g[b]^16843008*b,this.SUB_MIX[0][e]=m<<24|m>>>8,this.SUB_MIX[1][e]=m<<16|m>>>16,this.SUB_MIX[2][e]=m<<8|m>>>24,this.SUB_MIX[3][e]=m,m=16843009*
c^65537*a^257*h^16843008*e,this.INV_SUB_MIX[0][b]=m<<24|m>>>8,this.INV_SUB_MIX[1][b]=m<<16|m>>>16,this.INV_SUB_MIX[2][b]=m<<8|m>>>24,this.INV_SUB_MIX[3][b]=m,0===e?e=l=1:(e=h^g[g[g[c^h]]],l^=g[g[l]]);return!0};var m=new b;h.blockSize=16;h.prototype.blockSize=h.blockSize;h.keySize=32;h.prototype.keySize=h.keySize;h.prototype._doReset=function(){var b,e,h,a,c;e=this._key;b=e.length;this._nRounds=b+6;a=4*(this._nRounds+1);this._keySchedule=[];for(h=0;h<a;h++)this._keySchedule[h]=h<b?e[h]:(c=this._keySchedule[h-
1],0===h%b?(c=c<<8|c>>>24,c=m.SBOX[c>>>24]<<24|m.SBOX[c>>>16&255]<<16|m.SBOX[c>>>8&255]<<8|m.SBOX[c&255],c^=m.RCON[h/b|0]<<24):6<b&&4===h%b?c=m.SBOX[c>>>24]<<24|m.SBOX[c>>>16&255]<<16|m.SBOX[c>>>8&255]<<8|m.SBOX[c&255]:void 0,this._keySchedule[h-b]^c);this._invKeySchedule=[];for(b=0;b<a;b++)h=a-b,c=this._keySchedule[h-(b%4?0:4)],this._invKeySchedule[b]=4>b||4>=h?c:m.INV_SUB_MIX[0][m.SBOX[c>>>24]]^m.INV_SUB_MIX[1][m.SBOX[c>>>16&255]]^m.INV_SUB_MIX[2][m.SBOX[c>>>8&255]]^m.INV_SUB_MIX[3][m.SBOX[c&255]];
return!0};h.prototype.encryptBlock=function(b){b=l(new a(b));b=this._doCryptBlock(b,this._keySchedule,m.SUB_MIX,m.SBOX);var e=new a(16);e.writeUInt32BE(b[0],0);e.writeUInt32BE(b[1],4);e.writeUInt32BE(b[2],8);e.writeUInt32BE(b[3],12);return e};h.prototype.decryptBlock=function(b){b=l(new a(b));var e=[b[3],b[1]];b[1]=e[0];b[3]=e[1];b=this._doCryptBlock(b,this._invKeySchedule,m.INV_SUB_MIX,m.INV_SBOX);e=new a(16);e.writeUInt32BE(b[0],0);e.writeUInt32BE(b[3],4);e.writeUInt32BE(b[2],8);e.writeUInt32BE(b[1],
12);return e};h.prototype.scrub=function(){k(this._keySchedule);k(this._invKeySchedule);k(this._key)};h.prototype._doCryptBlock=function(b,m,e,h){var a,l,k,g,d,f,A;a=b[0]^m[0];l=b[1]^m[1];k=b[2]^m[2];g=b[3]^m[3];b=4;for(var D=1;D<this._nRounds;D++)d=e[0][a>>>24]^e[1][l>>>16&255]^e[2][k>>>8&255]^e[3][g&255]^m[b++],f=e[0][l>>>24]^e[1][k>>>16&255]^e[2][g>>>8&255]^e[3][a&255]^m[b++],A=e[0][k>>>24]^e[1][g>>>16&255]^e[2][a>>>8&255]^e[3][l&255]^m[b++],g=e[0][g>>>24]^e[1][a>>>16&255]^e[2][l>>>8&255]^e[3][k&
255]^m[b++],a=d,l=f,k=A;d=(h[a>>>24]<<24|h[l>>>16&255]<<16|h[k>>>8&255]<<8|h[g&255])^m[b++];f=(h[l>>>24]<<24|h[k>>>16&255]<<16|h[g>>>8&255]<<8|h[a&255])^m[b++];A=(h[k>>>24]<<24|h[g>>>16&255]<<16|h[a>>>8&255]<<8|h[l&255])^m[b++];g=(h[g>>>24]<<24|h[a>>>16&255]<<16|h[l>>>8&255]<<8|h[k&255])^m[b++];return[c(d),c(f),c(A),c(g)]};d.AES=h}).call(this,a("buffer").Buffer)},{buffer:44}],3:[function(a,f,d){(function(g){function c(m,e,a,l){if(!(this instanceof c))return new c(m,e,a);b.call(this);this._finID=g.concat([a,
new g([0,0,0,1])]);a=g.concat([a,new g([0,0,0,2])]);this._cipher=new k.AES(e);this._prev=new g(a.length);this._cache=new g("");this._secCache=new g("");this._decrypt=l;this._len=this._alen=0;a.copy(this._prev);this._mode=m;m=new g(4);m.fill(0);this._ghash=new h(this._cipher.encryptBlock(m));this._authTag=null;this._called=!1}var k=a("./aes"),b=a("cipher-base"),l=a("inherits"),h=a("./ghash"),e=a("buffer-xor");l(c,b);f.exports=c;c.prototype._update=function(b){if(!this._called&&this._alen){var e=16-
this._alen%16;16>e&&(e=new g(e),e.fill(0),this._ghash.update(e))}this._called=!0;e=this._mode.encrypt(this,b);this._decrypt?this._ghash.update(b):this._ghash.update(e);this._len+=b.length;return e};c.prototype._final=function(){if(this._decrypt&&!this._authTag)throw Error("Unsupported state or unable to authenticate data");var b=e(this._ghash["final"](8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt){var h=this._authTag,a=0;b.length!==h.length&&a++;for(var c=Math.min(b.length,
h.length),l=-1;++l<c;)a+=b[l]^h[l];if(a)throw Error("Unsupported state or unable to authenticate data");}else this._authTag=b;this._cipher.scrub()};c.prototype.getAuthTag=function(){if(!this._decrypt&&g.isBuffer(this._authTag))return this._authTag;throw Error("Attempting to get auth tag in unsupported state");};c.prototype.setAuthTag=function(b){if(this._decrypt)this._authTag=b;else throw Error("Attempting to set auth tag in unsupported state");};c.prototype.setAAD=function(b){if(this._called)throw Error("Attempting to set AAD in unsupported state");
this._ghash.update(b);this._alen+=b.length}}).call(this,a("buffer").Buffer)},{"./aes":2,"./ghash":7,buffer:44,"buffer-xor":20,"cipher-base":21,inherits:41}],4:[function(a,f,d){f=a("./encrypter");d.createCipher=d.Cipher=f.createCipher;d.createCipheriv=d.Cipheriv=f.createCipheriv;f=a("./decrypter");d.createDecipher=d.Decipher=f.createDecipher;d.createDecipheriv=d.Decipheriv=f.createDecipheriv;var g=a("./modes");d.listCiphers=d.getCiphers=function(){return Object.keys(g)}},{"./decrypter":5,"./encrypter":6,
"./modes":8}],5:[function(a,f,d){(function(g){function c(b,e,m){if(!(this instanceof c))return new c(b,e,m);h.call(this);this._cache=new k;this._last=void 0;this._cipher=new l.AES(e);this._prev=new g(m.length);m.copy(this._prev);this._mode=b;this._autopadding=!0}function k(){if(!(this instanceof k))return new k;this.cache=new g("")}function b(b,e,h){b=m[b.toLowerCase()];if(!b)throw new TypeError("invalid suite type");"string"===typeof h&&(h=new g(h));"string"===typeof e&&(e=new g(e));if(e.length!==
b.key/8)throw new TypeError("invalid key length "+e.length);if(h.length!==b.iv)throw new TypeError("invalid iv length "+h.length);return"stream"===b.type?new t(r[b.mode],e,h,!0):"auth"===b.type?new p(r[b.mode],e,h,!0):new c(r[b.mode],e,h)}var l=a("./aes"),h=a("cipher-base"),e=a("inherits"),m=a("./modes"),t=a("./streamCipher"),p=a("./authCipher"),n=a("evp_bytestokey");e(c,h);c.prototype._update=function(b){this._cache.add(b);var e;for(b=[];e=this._cache.get(this._autopadding);)e=this._mode.decrypt(this,
e),b.push(e);return g.concat(b)};c.prototype._final=function(){var b=this._cache.flush();if(this._autopadding){for(var b=this._mode.decrypt(this,b),e=b[15],m=-1;++m<e;)if(b[m+(16-e)]!==e)throw Error("unable to decrypt data");b=16===e?void 0:b.slice(0,16-e);return b}if(b)throw Error("data not multiple of block length");};c.prototype.setAutoPadding=function(b){this._autopadding=!!b;return this};k.prototype.add=function(b){this.cache=g.concat([this.cache,b])};k.prototype.get=function(b){if(b){if(16<
this.cache.length)return b=this.cache.slice(0,16),this.cache=this.cache.slice(16),b}else if(16<=this.cache.length)return b=this.cache.slice(0,16),this.cache=this.cache.slice(16),b;return null};k.prototype.flush=function(){if(this.cache.length)return this.cache};var r={ECB:a("./modes/ecb"),CBC:a("./modes/cbc"),CFB:a("./modes/cfb"),CFB8:a("./modes/cfb8"),CFB1:a("./modes/cfb1"),OFB:a("./modes/ofb"),CTR:a("./modes/ctr"),GCM:a("./modes/ctr")};d.createDecipher=function(e,h){var a=m[e.toLowerCase()];if(!a)throw new TypeError("invalid suite type");
a=n(h,!1,a.key,a.iv);return b(e,a.key,a.iv)};d.createDecipheriv=b}).call(this,a("buffer").Buffer)},{"./aes":2,"./authCipher":3,"./modes":8,"./modes/cbc":9,"./modes/cfb":10,"./modes/cfb1":11,"./modes/cfb8":12,"./modes/ctr":13,"./modes/ecb":14,"./modes/ofb":15,"./streamCipher":16,buffer:44,"cipher-base":21,evp_bytestokey:40,inherits:41}],6:[function(a,f,d){(function(g){function c(b,e,m){if(!(this instanceof c))return new c(b,e,m);h.call(this);this._cache=new k;this._cipher=new l.AES(e);this._prev=new g(m.length);
m.copy(this._prev);this._mode=b;this._autopadding=!0}function k(){if(!(this instanceof k))return new k;this.cache=new g("")}function b(b,e,h){b=m[b.toLowerCase()];if(!b)throw new TypeError("invalid suite type");"string"===typeof h&&(h=new g(h));"string"===typeof e&&(e=new g(e));if(e.length!==b.key/8)throw new TypeError("invalid key length "+e.length);if(h.length!==b.iv)throw new TypeError("invalid iv length "+h.length);return"stream"===b.type?new p(r[b.mode],e,h):"auth"===b.type?new n(r[b.mode],e,
h):new c(r[b.mode],e,h)}var l=a("./aes"),h=a("cipher-base"),e=a("inherits"),m=a("./modes"),t=a("evp_bytestokey"),p=a("./streamCipher"),n=a("./authCipher");e(c,h);c.prototype._update=function(b){this._cache.add(b);var e;for(b=[];e=this._cache.get();)e=this._mode.encrypt(this,e),b.push(e);return g.concat(b)};c.prototype._final=function(){var b=this._cache.flush();if(this._autopadding)return b=this._mode.encrypt(this,b),this._cipher.scrub(),b;if("10101010101010101010101010101010"!==b.toString("hex"))throw this._cipher.scrub(),
Error("data not multiple of block length");};c.prototype.setAutoPadding=function(b){this._autopadding=!!b;return this};k.prototype.add=function(b){this.cache=g.concat([this.cache,b])};k.prototype.get=function(){if(15<this.cache.length){var b=this.cache.slice(0,16);this.cache=this.cache.slice(16);return b}return null};k.prototype.flush=function(){for(var b=16-this.cache.length,e=new g(b),m=-1;++m<b;)e.writeUInt8(b,m);return g.concat([this.cache,e])};var r={ECB:a("./modes/ecb"),CBC:a("./modes/cbc"),
CFB:a("./modes/cfb"),CFB8:a("./modes/cfb8"),CFB1:a("./modes/cfb1"),OFB:a("./modes/ofb"),CTR:a("./modes/ctr"),GCM:a("./modes/ctr")};d.createCipheriv=b;d.createCipher=function(e,h){var a=m[e.toLowerCase()];if(!a)throw new TypeError("invalid suite type");a=t(h,!1,a.key,a.iv);return b(e,a.key,a.iv)}}).call(this,a("buffer").Buffer)},{"./aes":2,"./authCipher":3,"./modes":8,"./modes/cbc":9,"./modes/cfb":10,"./modes/cfb1":11,"./modes/cfb8":12,"./modes/ctr":13,"./modes/ecb":14,"./modes/ofb":15,"./streamCipher":16,
buffer:44,"cipher-base":21,evp_bytestokey:40,inherits:41}],7:[function(a,f,d){(function(a){function c(b){this.h=b;this.state=new a(16);this.state.fill(0);this.cache=new a("")}function k(e){e=e.map(b);var m=new a(16);m.writeUInt32BE(e[0],0);m.writeUInt32BE(e[1],4);m.writeUInt32BE(e[2],8);m.writeUInt32BE(e[3],12);return m}function b(b){var m;return b>h||0>b?(m=Math.abs(b)%h,0>b?h-m:m):b}var l=new a(16);l.fill(0);f.exports=c;c.prototype.ghash=function(b){for(var m=-1;++m<b.length;)this.state[m]^=b[m];
this._multiply()};c.prototype._multiply=function(){var b;b=this.h;b=[b.readUInt32BE(0),b.readUInt32BE(4),b.readUInt32BE(8),b.readUInt32BE(12)];for(var m=[0,0,0,0],h,a,c=-1;128>++c;){(h=0!==(this.state[~~(c/8)]&1<<7-c%8))&&(m=[m[0]^b[0],m[1]^b[1],m[2]^b[2],m[3]^b[3]]);a=0!==(b[3]&1);for(h=3;0<h;h--)b[h]=b[h]>>>1|(b[h-1]&1)<<31;b[0]>>>=1;a&&(b[0]^=-520093696)}this.state=k(m)};c.prototype.update=function(b){for(this.cache=a.concat([this.cache,b]);16<=this.cache.length;)b=this.cache.slice(0,16),this.cache=
this.cache.slice(16),this.ghash(b)};c.prototype["final"]=function(b,m){this.cache.length&&this.ghash(a.concat([this.cache,l],16));this.ghash(k([0,b,0,m]));return this.state};var h=Math.pow(2,32)}).call(this,a("buffer").Buffer)},{buffer:44}],8:[function(a,f,d){d["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"};d["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"};d["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"};d["aes-128-cbc"]={cipher:"AES",key:128,
iv:16,mode:"CBC",type:"block"};d["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"};d["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"};d.aes128=d["aes-128-cbc"];d.aes192=d["aes-192-cbc"];d.aes256=d["aes-256-cbc"];d["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"};d["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"};d["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"};d["aes-128-cfb8"]={cipher:"AES",key:128,
iv:16,mode:"CFB8",type:"stream"};d["aes-192-cfb8"]={cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"};d["aes-256-cfb8"]={cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"};d["aes-128-cfb1"]={cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"};d["aes-192-cfb1"]={cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"};d["aes-256-cfb1"]={cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"};d["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"};d["aes-192-ofb"]={cipher:"AES",key:192,
iv:16,mode:"OFB",type:"stream"};d["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"};d["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"};d["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"};d["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"};d["aes-128-gcm"]={cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"};d["aes-192-gcm"]={cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"};d["aes-256-gcm"]={cipher:"AES",key:256,iv:12,mode:"GCM",
type:"auth"}},{}],9:[function(a,f,d){var g=a("buffer-xor");d.encrypt=function(a,k){var b=g(k,a._prev);a._prev=a._cipher.encryptBlock(b);return a._prev};d.decrypt=function(a,k){var b=a._prev;a._prev=k;var l=a._cipher.decryptBlock(k);return g(l,b)}},{"buffer-xor":20}],10:[function(a,f,d){(function(g){function c(b,a,h){var e=a.length,m=k(a,b._cache);b._cache=b._cache.slice(e);b._prev=g.concat([b._prev,h?a:m]);return m}var k=a("buffer-xor");d.encrypt=function(b,a,h){for(var e=new g(""),m;a.length;)if(0===
b._cache.length&&(b._cache=b._cipher.encryptBlock(b._prev),b._prev=new g("")),b._cache.length<=a.length)m=b._cache.length,e=g.concat([e,c(b,a.slice(0,m),h)]),a=a.slice(m);else{e=g.concat([e,c(b,a,h)]);break}return e}}).call(this,a("buffer").Buffer)},{buffer:44,"buffer-xor":20}],11:[function(a,f,d){(function(a){d.encrypt=function(c,k,b){for(var l=k.length,h=new a(l),e=-1;++e<l;){for(var m=e,t=c,p=k[e],n=b,d,f=-1,B=0,w,z;8>++f;){d=t._cipher.encryptBlock(t._prev);w=p&1<<7-f?128:0;z=d[0]^w;B+=(z&128)>>
f%8;d=t;var u=t._prev;w=n?w:z;z=u.length;for(var v=-1,A=new a(u.length),u=a.concat([u,new a([w])]);++v<z;)A[v]=u[v]<<1|u[v+1]>>7;d._prev=A}h[m]=B}return h}}).call(this,a("buffer").Buffer)},{buffer:44}],12:[function(a,f,d){(function(a){d.encrypt=function(c,k,b){for(var l=k.length,h=new a(l),e=-1;++e<l;){var m=e,t=c,p=k[e],n=b,d=t._cipher.encryptBlock(t._prev)[0]^p;t._prev=a.concat([t._prev.slice(1),new a([n?p:d])]);h[m]=d}return h}}).call(this,a("buffer").Buffer)},{buffer:44}],13:[function(a,f,d){(function(g){function c(b){var a=
b._cipher.encryptBlock(b._prev);b=b._prev;for(var h=b.length,e;h--;)if(e=b.readUInt8(h),255===e)b.writeUInt8(0,h);else{e++;b.writeUInt8(e,h);break}return a}var k=a("buffer-xor");d.encrypt=function(b,a){for(;b._cache.length<a.length;)b._cache=g.concat([b._cache,c(b)]);var h=b._cache.slice(0,a.length);b._cache=b._cache.slice(a.length);return k(a,h)}}).call(this,a("buffer").Buffer)},{buffer:44,"buffer-xor":20}],14:[function(a,f,d){d.encrypt=function(a,c){return a._cipher.encryptBlock(c)};d.decrypt=function(a,
c){return a._cipher.decryptBlock(c)}},{}],15:[function(a,f,d){(function(g){function c(b){b._prev=b._cipher.encryptBlock(b._prev);return b._prev}var k=a("buffer-xor");d.encrypt=function(b,a){for(;b._cache.length<a.length;)b._cache=g.concat([b._cache,c(b)]);var h=b._cache.slice(0,a.length);b._cache=b._cache.slice(a.length);return k(a,h)}}).call(this,a("buffer").Buffer)},{buffer:44,"buffer-xor":20}],16:[function(a,f,d){(function(g){function c(a,h,e,m){if(!(this instanceof c))return new c(a,h,e);b.call(this);
this._cipher=new k.AES(h);this._prev=new g(e.length);this._cache=new g("");this._secCache=new g("");this._decrypt=m;e.copy(this._prev);this._mode=a}var k=a("./aes"),b=a("cipher-base");a("inherits")(c,b);f.exports=c;c.prototype._update=function(b){return this._mode.encrypt(this,b,this._decrypt)};c.prototype._final=function(){this._cipher.scrub()}}).call(this,a("buffer").Buffer)},{"./aes":2,buffer:44,"cipher-base":21,inherits:41}],17:[function(a,f,d){function g(m,a,c){m=m.toLowerCase();if(e[m])return b.createCipheriv(m,
a,c);if(h[m])return new l({key:a,iv:c,mode:m});throw new TypeError("invalid suite type");}function c(m,a,c){m=m.toLowerCase();if(e[m])return b.createDecipheriv(m,a,c);if(h[m])return new l({key:a,iv:c,mode:m,decrypt:!0});throw new TypeError("invalid suite type");}var k=a("evp_bytestokey"),b=a("browserify-aes/browser"),l=a("browserify-des"),h=a("browserify-des/modes"),e=a("browserify-aes/modes");d.createCipher=d.Cipher=function(b,a){var c,l;b=b.toLowerCase();if(e[b])c=e[b].key,l=e[b].iv;else if(h[b])c=
8*h[b].key,l=h[b].iv;else throw new TypeError("invalid suite type");c=k(a,!1,c,l);return g(b,c.key,c.iv)};d.createCipheriv=d.Cipheriv=g;d.createDecipher=d.Decipher=function(b,a){var l,n;b=b.toLowerCase();if(e[b])l=e[b].key,n=e[b].iv;else if(h[b])l=8*h[b].key,n=h[b].iv;else throw new TypeError("invalid suite type");l=k(a,!1,l,n);return c(b,l.key,l.iv)};d.createDecipheriv=d.Decipheriv=c;d.listCiphers=d.getCiphers=function(){return Object.keys(h).concat(b.getCiphers())}},{"browserify-aes/browser":4,
"browserify-aes/modes":8,"browserify-des":18,"browserify-des/modes":19,evp_bytestokey:40}],18:[function(a,f,d){(function(g){function c(b){k.call(this);var m=b.mode.toLowerCase(),a=h[m],c;c=b.decrypt?"decrypt":"encrypt";var l=b.key;if("des-ede"===m||"des-ede-cbc"===m)l=g.concat([l,l.slice(0,8)]);this._des=a.create({key:l,iv:b.iv,type:c})}var k=a("cipher-base"),b=a("des.js"),l=a("inherits"),h={"des-ede3-cbc":b.CBC.instantiate(b.EDE),"des-ede3":b.EDE,"des-ede-cbc":b.CBC.instantiate(b.EDE),"des-ede":b.EDE,
"des-cbc":b.CBC.instantiate(b.DES),"des-ecb":b.DES};h.des=h["des-cbc"];h.des3=h["des-ede3-cbc"];f.exports=c;l(c,k);c.prototype._update=function(b){return new g(this._des.update(b))};c.prototype._final=function(){return new g(this._des["final"]())}}).call(this,a("buffer").Buffer)},{buffer:44,"cipher-base":21,"des.js":34,inherits:41}],19:[function(a,f,d){d["des-ecb"]={key:8,iv:0};d["des-cbc"]=d.des={key:8,iv:8};d["des-ede3-cbc"]=d.des3={key:24,iv:8};d["des-ede3"]={key:24,iv:0};d["des-ede-cbc"]={key:16,
iv:8};d["des-ede"]={key:16,iv:0}},{}],20:[function(a,f,d){(function(a){f.exports=function(c,k){for(var b=Math.min(c.length,k.length),l=new a(b),h=0;h<b;++h)l[h]=c[h]^k[h];return l}}).call(this,a("buffer").Buffer)},{buffer:44}],21:[function(a,f,d){(function(d){function c(b){k.call(this);(this.hashMode="string"===typeof b)?this[b]=this._finalOrDigest:this["final"]=this._finalOrDigest;this._encoding=this._decoder=null}var k=a("stream").Transform,b=a("inherits"),l=a("string_decoder").StringDecoder;f.exports=
c;b(c,k);c.prototype.update=function(b,e,m){"string"===typeof b&&(b=new d(b,e));b=this._update(b);if(this.hashMode)return this;m&&(b=this._toString(b,m));return b};c.prototype.setAutoPadding=function(){};c.prototype.getAuthTag=function(){throw Error("trying to get auth tag in unsupported state");};c.prototype.setAuthTag=function(){throw Error("trying to set auth tag in unsupported state");};c.prototype.setAAD=function(){throw Error("trying to set aad in unsupported state");};c.prototype._transform=
function(b,e,m){var a;try{this.hashMode?this._update(b):this.push(this._update(b))}catch(c){a=c}finally{m(a)}};c.prototype._flush=function(b){var e;try{this.push(this._final())}catch(m){e=m}finally{b(e)}};c.prototype._finalOrDigest=function(b){var e=this._final()||new d("");b&&(e=this._toString(e,b,!0));return e};c.prototype._toString=function(b,e,m){this._decoder||(this._decoder=new l(e),this._encoding=e);if(this._encoding!==e)throw Error("can't switch encodings");b=this._decoder.write(b);m&&(b+=
this._decoder.end());return b}}).call(this,a("buffer").Buffer)},{buffer:44,inherits:41,stream:68,string_decoder:69}],22:[function(a,f,d){(function(d){function c(b){m.call(this,"digest");this._hash=b;this.buffers=[]}function k(b){m.call(this,"digest");this._hash=b}var b=a("inherits"),l=a("./md5"),h=a("ripemd160"),e=a("sha.js"),m=a("cipher-base");b(c,m);c.prototype._update=function(b){this.buffers.push(b)};c.prototype._final=function(){var b=d.concat(this.buffers),b=this._hash(b);this.buffers=null;
return b};b(k,m);k.prototype._update=function(b){this._hash.update(b)};k.prototype._final=function(){return this._hash.digest()};f.exports=function(b){b=b.toLowerCase();return"md5"===b?new c(l):"rmd160"===b||"ripemd160"===b?new c(h):new k(e(b))}}).call(this,a("buffer").Buffer)},{"./md5":24,buffer:44,"cipher-base":21,inherits:41,ripemd160:25,"sha.js":27}],23:[function(a,f,d){(function(a){var c=new a(4);c.fill(0);d.hash=function(k,b,l,h){a.isBuffer(k)||(k=new a(k));var e=k;0!==e.length%4&&(e=a.concat([e,
c],e.length+(4-e.length%4)));for(var m=[],d=h?e.readInt32BE:e.readInt32LE,p=0;p<e.length;p+=4)m.push(d.call(e,p));k=b(m,8*k.length);l=new a(l);h=h?l.writeInt32BE:l.writeInt32LE;for(b=0;b<k.length;b++)h.call(l,k[b],4*b,!0);return l}}).call(this,a("buffer").Buffer)},{buffer:44}],24:[function(a,f,d){function g(e,a){e[a>>5]|=128<<a%32;e[(a+64>>>9<<4)+14]=a;for(var p=1732584193,n=-271733879,d=-1732584194,g=271733878,f=0;f<e.length;f+=16)var w=p,z=n,u=d,v=g,p=k(p,n,d,g,e[f+0],7,-680876936),g=k(g,p,n,d,
e[f+1],12,-389564586),d=k(d,g,p,n,e[f+2],17,606105819),n=k(n,d,g,p,e[f+3],22,-1044525330),p=k(p,n,d,g,e[f+4],7,-176418897),g=k(g,p,n,d,e[f+5],12,1200080426),d=k(d,g,p,n,e[f+6],17,-1473231341),n=k(n,d,g,p,e[f+7],22,-45705983),p=k(p,n,d,g,e[f+8],7,1770035416),g=k(g,p,n,d,e[f+9],12,-1958414417),d=k(d,g,p,n,e[f+10],17,-42063),n=k(n,d,g,p,e[f+11],22,-1990404162),p=k(p,n,d,g,e[f+12],7,1804603682),g=k(g,p,n,d,e[f+13],12,-40341101),d=k(d,g,p,n,e[f+14],17,-1502002290),n=k(n,d,g,p,e[f+15],22,1236535329),p=
b(p,n,d,g,e[f+1],5,-165796510),g=b(g,p,n,d,e[f+6],9,-1069501632),d=b(d,g,p,n,e[f+11],14,643717713),n=b(n,d,g,p,e[f+0],20,-373897302),p=b(p,n,d,g,e[f+5],5,-701558691),g=b(g,p,n,d,e[f+10],9,38016083),d=b(d,g,p,n,e[f+15],14,-660478335),n=b(n,d,g,p,e[f+4],20,-405537848),p=b(p,n,d,g,e[f+9],5,568446438),g=b(g,p,n,d,e[f+14],9,-1019803690),d=b(d,g,p,n,e[f+3],14,-187363961),n=b(n,d,g,p,e[f+8],20,1163531501),p=b(p,n,d,g,e[f+13],5,-1444681467),g=b(g,p,n,d,e[f+2],9,-51403784),d=b(d,g,p,n,e[f+7],14,1735328473),
n=b(n,d,g,p,e[f+12],20,-1926607734),p=c(n^d^g,p,n,e[f+5],4,-378558),g=c(p^n^d,g,p,e[f+8],11,-2022574463),d=c(g^p^n,d,g,e[f+11],16,1839030562),n=c(d^g^p,n,d,e[f+14],23,-35309556),p=c(n^d^g,p,n,e[f+1],4,-1530992060),g=c(p^n^d,g,p,e[f+4],11,1272893353),d=c(g^p^n,d,g,e[f+7],16,-155497632),n=c(d^g^p,n,d,e[f+10],23,-1094730640),p=c(n^d^g,p,n,e[f+13],4,681279174),g=c(p^n^d,g,p,e[f+0],11,-358537222),d=c(g^p^n,d,g,e[f+3],16,-722521979),n=c(d^g^p,n,d,e[f+6],23,76029189),p=c(n^d^g,p,n,e[f+9],4,-640364487),g=
c(p^n^d,g,p,e[f+12],11,-421815835),d=c(g^p^n,d,g,e[f+15],16,530742520),n=c(d^g^p,n,d,e[f+2],23,-995338651),p=l(p,n,d,g,e[f+0],6,-198630844),g=l(g,p,n,d,e[f+7],10,1126891415),d=l(d,g,p,n,e[f+14],15,-1416354905),n=l(n,d,g,p,e[f+5],21,-57434055),p=l(p,n,d,g,e[f+12],6,1700485571),g=l(g,p,n,d,e[f+3],10,-1894986606),d=l(d,g,p,n,e[f+10],15,-1051523),n=l(n,d,g,p,e[f+1],21,-2054922799),p=l(p,n,d,g,e[f+8],6,1873313359),g=l(g,p,n,d,e[f+15],10,-30611744),d=l(d,g,p,n,e[f+6],15,-1560198380),n=l(n,d,g,p,e[f+13],
21,1309151649),p=l(p,n,d,g,e[f+4],6,-145523070),g=l(g,p,n,d,e[f+11],10,-1120210379),d=l(d,g,p,n,e[f+2],15,718787259),n=l(n,d,g,p,e[f+9],21,-343485551),p=h(p,w),n=h(n,z),d=h(d,u),g=h(g,v);return[p,n,d,g]}function c(b,e,a,c,d,g){b=h(h(e,b),h(c,g));return h(b<<d|b>>>32-d,a)}function k(b,e,a,h,d,g,l){return c(e&a|~e&h,b,e,d,g,l)}function b(b,e,a,h,d,g,l){return c(e&h|a&~h,b,e,d,g,l)}function l(b,e,a,h,d,g,l){return c(a^(e|~h),b,e,d,g,l)}function h(b,e){var a=(b&65535)+(e&65535);return(b>>16)+(e>>16)+
(a>>16)<<16|a&65535}var e=a("./helpers");f.exports=function(b){return e.hash(b,g,16)}},{"./helpers":23}],25:[function(a,f,d){(function(a){function c(b,e){return b<<e|b>>>32-e}var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,
15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],e=[0,1518500249,1859775393,2400959708,
2840853838],m=[1352829926,1548603684,1836072691,2053994217,0];f.exports=function(f){var p=[1732584193,4023233417,2562383102,271733878,3285377520];"string"===typeof f&&(f=new a(f,"utf8"));for(var n=f,r=[],x=0,B=0;x<n.length;x++,B+=8)r[B>>>5]|=n[x]<<24-B%32;n=8*f.length;f=8*f.length;r[n>>>5]|=128<<24-n%32;r[(n+64>>>9<<4)+14]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360;for(f=0;f<r.length;f+=16){for(var n=p,x=r,B=f,w=0;16>w;w++){var z=B+w,u=x[z];x[z]=(u<<8|u>>>24)&16711935|(u<<24|u>>>8)&4278255360}var v,
A,D,G,y,I,C,J;G=z=n[0];y=u=n[1];I=v=n[2];C=A=n[3];J=D=n[4];for(var q,w=0;80>w;w+=1)q=z+x[B+d[w]]|0,q=16>w?q+((u^v^A)+e[0]):32>w?q+((u&v|~u&A)+e[1]):48>w?q+(((u|~v)^A)+e[2]):64>w?q+((u&A|v&~A)+e[3]):q+((u^(v|~A))+e[4]),q|=0,q=c(q,l[w]),q=q+D|0,z=D,D=A,A=c(v,10),v=u,u=q,q=G+x[B+b[w]]|0,q=16>w?q+((y^(I|~C))+m[0]):32>w?q+((y&C|I&~C)+m[1]):48>w?q+(((y|~I)^C)+m[2]):64>w?q+((y&I|~y&C)+m[3]):q+((y^I^C)+m[4]),q|=0,q=c(q,h[w]),q=q+J|0,G=J,J=C,C=c(I,10),I=y,y=q;q=n[1]+v+C|0;n[1]=n[2]+A+J|0;n[2]=n[3]+D+G|0;n[3]=
n[4]+z+y|0;n[4]=n[0]+u+I|0;n[0]=q}for(f=0;5>f;f++)r=p[f],p[f]=(r<<8|r>>>24)&16711935|(r<<24|r>>>8)&4278255360;r=[];for(f=0;f<32*p.length;f+=8)r.push(p[f>>>5]>>>24-f%32&255);return new a(r)}}).call(this,a("buffer").Buffer)},{buffer:44}],26:[function(a,f,d){(function(a){function c(c,b){this._block=new a(c);this._finalSize=b;this._blockSize=c;this._s=this._len=0}c.prototype.update=function(c,b){"string"===typeof c&&(c=new a(c,b||"utf8"));for(var d=this._len+=c.length,h=this._s||0,e=0,m=this._block;h<
d;){for(var f=Math.min(c.length,e+this._blockSize-h%this._blockSize)-e,p=0;p<f;p++)m[h%this._blockSize+p]=c[p+e];h+=f;e+=f;0===h%this._blockSize&&this._update(m)}this._s=h;return this};c.prototype.digest=function(a){var b=8*this._len;this._block[this._len%this._blockSize]=128;this._block.fill(0,this._len%this._blockSize+1);b%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0));this._block.writeInt32BE(b,this._blockSize-4);b=this._update(this._block)||this._hash();
return a?b.toString(a):b};c.prototype._update=function(){throw Error("_update must be implemented by subclass");};f.exports=c}).call(this,a("buffer").Buffer)},{buffer:44}],27:[function(a,f,d){d=f.exports=function(a){a=a.toLowerCase();var c=d[a];if(!c)throw Error(a+" is not supported (we accept pull requests)");return new c};d.sha=a("./sha");d.sha1=a("./sha1");d.sha224=a("./sha224");d.sha256=a("./sha256");d.sha384=a("./sha384");d.sha512=a("./sha512")},{"./sha":28,"./sha1":29,"./sha224":30,"./sha256":31,
"./sha384":32,"./sha512":33}],28:[function(a,f,d){(function(d){function c(){this.init();this._w=h;b.call(this,64,56)}var k=a("inherits"),b=a("./hash"),l=[1518500249,1859775393,-1894007588,-899497514],h=Array(80);k(c,b);c.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;return this};c.prototype._update=function(b){for(var a=this._w,h=this._a|0,c=this._b|0,d=this._c|0,g=this._d|0,k=this._e|0,f=0;16>f;++f)a[f]=b.readInt32BE(4*f);
for(;80>f;++f)a[f]=a[f-3]^a[f-8]^a[f-14]^a[f-16];for(b=0;80>b;++b){var f=~~(b/20),w=h<<5|h>>>27,z;z=0===f?c&d|~c&g:2===f?c&d|c&g|d&g:c^d^g;f=w+z+k+a[b]+l[f]|0;k=g;g=d;d=c<<30|c>>>2;c=h;h=f}this._a=h+this._a|0;this._b=c+this._b|0;this._c=d+this._c|0;this._d=g+this._d|0;this._e=k+this._e|0};c.prototype._hash=function(){var b=new d(20);b.writeInt32BE(this._a|0,0);b.writeInt32BE(this._b|0,4);b.writeInt32BE(this._c|0,8);b.writeInt32BE(this._d|0,12);b.writeInt32BE(this._e|0,16);return b};f.exports=c}).call(this,
a("buffer").Buffer)},{"./hash":26,buffer:44,inherits:41}],29:[function(a,f,d){(function(d){function c(){this.init();this._w=h;b.call(this,64,56)}var k=a("inherits"),b=a("./hash"),l=[1518500249,1859775393,-1894007588,-899497514],h=Array(80);k(c,b);c.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;return this};c.prototype._update=function(b){for(var a=this._w,h=this._a|0,c=this._b|0,d=this._c|0,g=this._d|0,k=this._e|0,f=0;16>f;++f)a[f]=
b.readInt32BE(4*f);for(;80>f;++f)b=a[f-3]^a[f-8]^a[f-14]^a[f-16],a[f]=b<<1|b>>>31;for(f=0;80>f;++f){b=~~(f/20);var w=h<<5|h>>>27,z;z=0===b?c&d|~c&g:2===b?c&d|c&g|d&g:c^d^g;b=w+z+k+a[f]+l[b]|0;k=g;g=d;d=c<<30|c>>>2;c=h;h=b}this._a=h+this._a|0;this._b=c+this._b|0;this._c=d+this._c|0;this._d=g+this._d|0;this._e=k+this._e|0};c.prototype._hash=function(){var b=new d(20);b.writeInt32BE(this._a|0,0);b.writeInt32BE(this._b|0,4);b.writeInt32BE(this._c|0,8);b.writeInt32BE(this._d|0,12);b.writeInt32BE(this._e|
0,16);return b};f.exports=c}).call(this,a("buffer").Buffer)},{"./hash":26,buffer:44,inherits:41}],30:[function(a,f,d){(function(d){function c(){this.init();this._w=h;l.call(this,64,56)}var k=a("inherits"),b=a("./sha256"),l=a("./hash"),h=Array(64);k(c,b);c.prototype.init=function(){this._a=3238371032;this._b=914150663;this._c=812702999;this._d=4144912697;this._e=4290775857;this._f=1750603025;this._g=1694076839;this._h=3204075428;return this};c.prototype._hash=function(){var b=new d(28);b.writeInt32BE(this._a,
0);b.writeInt32BE(this._b,4);b.writeInt32BE(this._c,8);b.writeInt32BE(this._d,12);b.writeInt32BE(this._e,16);b.writeInt32BE(this._f,20);b.writeInt32BE(this._g,24);return b};f.exports=c}).call(this,a("buffer").Buffer)},{"./hash":26,"./sha256":31,buffer:44,inherits:41}],31:[function(a,f,d){(function(d){function c(){this.init();this._w=h;b.call(this,64,56)}var k=a("inherits"),b=a("./hash"),l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,
607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,
2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],h=Array(64);k(c,b);c.prototype.init=function(){this._a=1779033703;this._b=3144134277;this._c=1013904242;this._d=2773480762;this._e=1359893119;this._f=2600822924;this._g=528734635;this._h=1541459225;return this};c.prototype._update=function(b){for(var a=this._w,h=this._a|0,c=this._b|0,d=this._c|0,g=this._d|0,k=this._e|0,f=this._f|0,w=this._g|0,z=this._h|0,u=0;16>u;++u)a[u]=b.readInt32BE(4*u);for(;64>u;++u){b=a[u-2];var v=
a[u-15];a[u]=((b>>>17|b<<15)^(b>>>19|b<<13)^b>>>10)+a[u-7]+((v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3)+a[u-16]|0}for(u=0;64>u;++u)b=z+((k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7))+(w^k&(f^w))+l[u]+a[u]|0,v=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&c|d&(h|c))|0,z=w,w=f,f=k,k=g+b|0,g=d,d=c,c=h,h=b+v|0;this._a=h+this._a|0;this._b=c+this._b|0;this._c=d+this._c|0;this._d=g+this._d|0;this._e=k+this._e|0;this._f=f+this._f|0;this._g=w+this._g|0;this._h=z+this._h|0};c.prototype._hash=function(){var b=new d(32);
b.writeInt32BE(this._a,0);b.writeInt32BE(this._b,4);b.writeInt32BE(this._c,8);b.writeInt32BE(this._d,12);b.writeInt32BE(this._e,16);b.writeInt32BE(this._f,20);b.writeInt32BE(this._g,24);b.writeInt32BE(this._h,28);return b};f.exports=c}).call(this,a("buffer").Buffer)},{"./hash":26,buffer:44,inherits:41}],32:[function(a,f,d){(function(d){function c(){this.init();this._w=h;l.call(this,128,112)}var k=a("inherits"),b=a("./sha512"),l=a("./hash"),h=Array(160);k(c,b);c.prototype.init=function(){this._ah=
3418070365;this._bh=1654270250;this._ch=2438529370;this._dh=355462360;this._eh=1731405415;this._fh=2394180231;this._gh=3675008525;this._hh=1203062813;this._al=3238371032;this._bl=914150663;this._cl=812702999;this._dl=4144912697;this._el=4290775857;this._fl=1750603025;this._gl=1694076839;this._hl=3204075428;return this};c.prototype._hash=function(){function b(e,h,c){a.writeInt32BE(e,c);a.writeInt32BE(h,c+4)}var a=new d(48);b(this._ah,this._al,0);b(this._bh,this._bl,8);b(this._ch,this._cl,16);b(this._dh,
this._dl,24);b(this._eh,this._el,32);b(this._fh,this._fl,40);return a};f.exports=c}).call(this,a("buffer").Buffer)},{"./hash":26,"./sha512":33,buffer:44,inherits:41}],33:[function(a,f,d){(function(d){function c(){this.init();this._w=e;l.call(this,128,112)}function k(b,a){return b>>>0<a>>>0?1:0}var b=a("inherits"),l=a("./hash"),h=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,
3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,
168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,
1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,
987167468,1816402316,1246189591],e=Array(160);b(c,l);c.prototype.init=function(){this._ah=1779033703;this._bh=3144134277;this._ch=1013904242;this._dh=2773480762;this._eh=1359893119;this._fh=2600822924;this._gh=528734635;this._hh=1541459225;this._al=4089235720;this._bl=2227873595;this._cl=4271175723;this._dl=1595750129;this._el=2917565137;this._fl=725511199;this._gl=4215389547;this._hl=327033209;return this};c.prototype._update=function(b){for(var a=this._w,e=this._ah|0,c=this._bh|0,d=this._ch|0,g=
this._dh|0,l=this._eh|0,f=this._fh|0,z=this._gh|0,u=this._hh|0,v=this._al|0,A=this._bl|0,D=this._cl|0,G=this._dl|0,y=this._el|0,I=this._fl|0,C=this._gl|0,J=this._hl|0,q=0;32>q;q+=2)a[q]=b.readInt32BE(4*q),a[q+1]=b.readInt32BE(4*q+4);for(;160>q;q+=2){b=a[q-30];var E=a[q-30+1],H=(b>>>1|E<<31)^(b>>>8|E<<24)^b>>>7,F=(E>>>1|b<<31)^(E>>>8|b<<24)^(E>>>7|b<<25);b=a[q-4];var E=a[q-4+1],K=(b>>>19|E<<13)^(E>>>29|b<<3)^b>>>6,E=(E>>>19|b<<13)^(b>>>29|E<<3)^(E>>>6|b<<26),M=a[q-32],L=a[q-32+1];b=F+a[q-14+1]|0;H=
H+a[q-14]+k(b,F)|0;b=b+E|0;H=H+K+k(b,E)|0;b=b+L|0;H=H+M+k(b,L)|0;a[q]=H;a[q+1]=b}for(q=0;160>q;q+=2){H=a[q];b=a[q+1];var E=e&c|d&(e|c),P=v&A|D&(v|A),M=(e>>>28|v<<4)^(v>>>2|e<<30)^(v>>>7|e<<25),L=(v>>>28|e<<4)^(e>>>2|v<<30)^(e>>>7|v<<25),Q=h[q],N=h[q+1],R=z^l&(f^z),O=C^y&(I^C),K=J+((y>>>14|l<<18)^(y>>>18|l<<14)^(l>>>9|y<<23))|0,F=u+((l>>>14|y<<18)^(l>>>18|y<<14)^(y>>>9|l<<23))+k(K,J)|0,K=K+O|0,F=F+R+k(K,O)|0,K=K+N|0,F=F+Q+k(K,N)|0,K=K+b|0,F=F+H+k(K,b)|0;b=L+P|0;H=M+E+k(b,L)|0;u=z;J=C;z=f;C=I;f=l;I=
y;y=G+K|0;l=g+F+k(y,G)|0;g=d;G=D;d=c;D=A;c=e;A=v;v=K+b|0;e=F+H+k(v,K)|0}this._al=this._al+v|0;this._bl=this._bl+A|0;this._cl=this._cl+D|0;this._dl=this._dl+G|0;this._el=this._el+y|0;this._fl=this._fl+I|0;this._gl=this._gl+C|0;this._hl=this._hl+J|0;this._ah=this._ah+e+k(this._al,v)|0;this._bh=this._bh+c+k(this._bl,A)|0;this._ch=this._ch+d+k(this._cl,D)|0;this._dh=this._dh+g+k(this._dl,G)|0;this._eh=this._eh+l+k(this._el,y)|0;this._fh=this._fh+f+k(this._fl,I)|0;this._gh=this._gh+z+k(this._gl,C)|0;this._hh=
this._hh+u+k(this._hl,J)|0};c.prototype._hash=function(){function b(e,h,c){a.writeInt32BE(e,c);a.writeInt32BE(h,c+4)}var a=new d(64);b(this._ah,this._al,0);b(this._bh,this._bl,8);b(this._ch,this._cl,16);b(this._dh,this._dl,24);b(this._eh,this._el,32);b(this._fh,this._fl,40);b(this._gh,this._gl,48);b(this._hh,this._hl,56);return a};f.exports=c}).call(this,a("buffer").Buffer)},{"./hash":26,buffer:44,inherits:41}],34:[function(a,f,d){d.utils=a("./des/utils");d.Cipher=a("./des/cipher");d.DES=a("./des/des");
d.CBC=a("./des/cbc");d.EDE=a("./des/ede")},{"./des/cbc":35,"./des/cipher":36,"./des/des":37,"./des/ede":38,"./des/utils":39}],35:[function(a,f,d){function g(b){c.equal(b.length,8,"Invalid IV length");this.iv=Array(8);for(var a=0;a<this.iv.length;a++)this.iv[a]=b[a]}var c=a("minimalistic-assert"),k=a("inherits"),b={};d.instantiate=function(a){function h(b){a.call(this,b);this._cbcInit()}k(h,a);for(var e=Object.keys(b),c=0;c<e.length;c++){var d=e[c];h.prototype[d]=b[d]}h.create=function(b){return new h(b)};
return h};b._cbcInit=function(){this._cbcState=new g(this.options.iv)};b._update=function(b,a,e,c){var d=this.constructor.super_.prototype,g=this._cbcState.iv;if("encrypt"===this.type){for(var k=0;k<this.blockSize;k++)g[k]^=b[a+k];d._update.call(this,g,0,e,c);for(k=0;k<this.blockSize;k++)g[k]=e[c+k]}else{d._update.call(this,b,a,e,c);for(k=0;k<this.blockSize;k++)e[c+k]^=g[k];for(k=0;k<this.blockSize;k++)g[k]=b[a+k]}}},{inherits:41,"minimalistic-assert":42}],36:[function(a,f,d){function g(a){this.options=
a;this.type=this.options.type;this.blockSize=8;this._init();this.buffer=Array(this.blockSize);this.bufferOff=0}var c=a("minimalistic-assert");f.exports=g;g.prototype._init=function(){};g.prototype.update=function(a){return 0===a.length?[]:"decrypt"===this.type?this._updateDecrypt(a):this._updateEncrypt(a)};g.prototype._buffer=function(a,b){for(var c=Math.min(this.buffer.length-this.bufferOff,a.length-b),h=0;h<c;h++)this.buffer[this.bufferOff+h]=a[b+h];this.bufferOff+=c;return c};g.prototype._flushBuffer=
function(a,b){this._update(this.buffer,0,a,b);this.bufferOff=0;return this.blockSize};g.prototype._updateEncrypt=function(a){var b=0,c=0,h=Array(((this.bufferOff+a.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(b+=this._buffer(a,b),this.bufferOff===this.buffer.length&&(c+=this._flushBuffer(h,c)));for(var e=a.length-(a.length-b)%this.blockSize;b<e;b+=this.blockSize)this._update(a,b,h,c),c+=this.blockSize;for(;b<a.length;b++,this.bufferOff++)this.buffer[this.bufferOff]=a[b];return h};
g.prototype._updateDecrypt=function(a){for(var b=0,c=0,h=Math.ceil((this.bufferOff+a.length)/this.blockSize)-1,e=Array(h*this.blockSize);0<h;h--)b+=this._buffer(a,b),c+=this._flushBuffer(e,c);this._buffer(a,b);return e};g.prototype["final"]=function(a){var b;a&&(b=this.update(a));a="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt();return b?b.concat(a):a};g.prototype._pad=function(a,b){if(0===b)return!1;for(;b<a.length;)a[b++]=0;return!0};g.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,
this.bufferOff))return[];var a=Array(this.blockSize);this._update(this.buffer,0,a,0);return a};g.prototype._unpad=function(a){return a};g.prototype._finalDecrypt=function(){c.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var a=Array(this.blockSize);this._flushBuffer(a,0);return this._unpad(a)}},{"minimalistic-assert":42}],37:[function(a,f,d){function g(){this.tmp=Array(2);this.keys=null}function c(b){l.call(this,b);var a=new g;this._desState=a;this.deriveKeys(a,b.key)}var k=a("minimalistic-assert");
d=a("inherits");a=a("../des");var b=a.utils,l=a.Cipher;d(c,l);f.exports=c;c.create=function(b){return new c(b)};var h=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(a,c){a.keys=Array(32);k.equal(c.length,this.blockSize,"Invalid key length");var d=b.readUInt32BE(c,0),g=b.readUInt32BE(c,4);b.pc1(d,g,a.tmp,0);for(var d=a.tmp[0],g=a.tmp[1],l=0;l<a.keys.length;l+=2){var f=h[l>>>1],d=b.r28shl(d,f),g=b.r28shl(g,f);b.pc2(d,g,a.keys,l)}};c.prototype._update=function(a,h,c,d){var g=this._desState,
l=b.readUInt32BE(a,h);a=b.readUInt32BE(a,h+4);b.ip(l,a,g.tmp,0);l=g.tmp[0];a=g.tmp[1];"encrypt"===this.type?this._encrypt(g,l,a,g.tmp,0):this._decrypt(g,l,a,g.tmp,0);l=g.tmp[0];a=g.tmp[1];b.writeUInt32BE(c,l,d);b.writeUInt32BE(c,a,d+4)};c.prototype._pad=function(b,a){for(var h=b.length-a,c=a;c<b.length;c++)b[c]=h;return!0};c.prototype._unpad=function(b){for(var a=b[b.length-1],h=b.length-a;h<b.length;h++)k.equal(b[h],a);return b.slice(0,b.length-a)};c.prototype._encrypt=function(a,h,c,d,g){for(var l=
0;l<a.keys.length;l+=2){var f=a.keys[l],k=a.keys[l+1];b.expand(c,a.tmp,0);f^=a.tmp[0];k^=a.tmp[1];f=b.substitute(f,k);f=b.permute(f);k=c;c=(h^f)>>>0;h=k}b.rip(c,h,d,g)};c.prototype._decrypt=function(a,h,c,d,g){for(var l=a.keys.length-2;0<=l;l-=2){var f=a.keys[l],k=a.keys[l+1];b.expand(c,a.tmp,0);f^=a.tmp[0];k^=a.tmp[1];f=b.substitute(f,k);f=b.permute(f);k=c;c=(h^f)>>>0;h=k}b.rip(c,h,d,g)}},{"../des":34,inherits:41,"minimalistic-assert":42}],38:[function(a,f,d){function g(b,a){k.equal(a.length,24,
"Invalid key length");var c=a.slice(0,8),d=a.slice(8,16),g=a.slice(16,24);this.ciphers="encrypt"===b?[l.create({type:"encrypt",key:c}),l.create({type:"decrypt",key:d}),l.create({type:"encrypt",key:g})]:[l.create({type:"decrypt",key:g}),l.create({type:"encrypt",key:d}),l.create({type:"decrypt",key:c})]}function c(a){b.call(this,a);this._edeState=new g(this.type,this.options.key)}var k=a("minimalistic-assert");d=a("inherits");a=a("../des");var b=a.Cipher,l=a.DES;d(c,b);f.exports=c;c.create=function(b){return new c(b)};
c.prototype._update=function(b,a,c,d){var g=this._edeState;g.ciphers[0]._update(b,a,c,d);g.ciphers[1]._update(c,d,c,d);g.ciphers[2]._update(c,d,c,d)};c.prototype._pad=l.prototype._pad;c.prototype._unpad=l.prototype._unpad},{"../des":34,inherits:41,"minimalistic-assert":42}],39:[function(a,f,d){d.readUInt32BE=function(b,a){return(b[0+a]<<24|b[1+a]<<16|b[2+a]<<8|b[3+a])>>>0};d.writeUInt32BE=function(b,a,h){b[0+h]=a>>>24;b[1+h]=a>>>16&255;b[2+h]=a>>>8&255;b[3+h]=a&255};d.ip=function(b,a,h,e){for(var c=
0,d=0,g=6;0<=g;g-=2){for(var f=0;24>=f;f+=8)c<<=1,c|=a>>>f+g&1;for(f=0;24>=f;f+=8)c<<=1,c|=b>>>f+g&1}for(g=6;0<=g;g-=2){for(f=1;25>=f;f+=8)d<<=1,d|=a>>>f+g&1;for(f=1;25>=f;f+=8)d<<=1,d|=b>>>f+g&1}h[e+0]=c>>>0;h[e+1]=d>>>0};d.rip=function(b,a,c,e){for(var d=0,g=0,f=0;4>f;f++)for(var k=24;0<=k;k-=8)d<<=1,d|=a>>>k+f&1,d<<=1,d|=b>>>k+f&1;for(f=4;8>f;f++)for(k=24;0<=k;k-=8)g<<=1,g|=a>>>k+f&1,g<<=1,g|=b>>>k+f&1;c[e+0]=d>>>0;c[e+1]=g>>>0};d.pc1=function(b,a,c,e){for(var d=0,g=0,f=7;5<=f;f--){for(var k=0;24>=
k;k+=8)d<<=1,d|=a>>k+f&1;for(k=0;24>=k;k+=8)d<<=1,d|=b>>k+f&1}for(k=0;24>=k;k+=8)d<<=1,d|=a>>k+f&1;for(f=1;3>=f;f++){for(k=0;24>=k;k+=8)g<<=1,g|=a>>k+f&1;for(k=0;24>=k;k+=8)g<<=1,g|=b>>k+f&1}for(k=0;24>=k;k+=8)g<<=1,g|=b>>k+f&1;c[e+0]=d>>>0;c[e+1]=g>>>0};d.r28shl=function(b,a){return b<<a&268435455|b>>>28-a};var g=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];d.pc2=function(b,a,c,e){for(var d=0,f=0,k=g.length>>>1,n=
0;n<k;n++)d<<=1,d|=b>>>g[n]&1;for(n=k;n<g.length;n++)f<<=1,f|=a>>>g[n]&1;c[e+0]=d>>>0;c[e+1]=f>>>0};d.expand=function(b,a,c){var e,d=0;e=(b&1)<<5|b>>>27;for(var g=23;15<=g;g-=4)e<<=6,e|=b>>>g&63;for(g=11;3<=g;g-=4)d|=b>>>g&63,d<<=6;a[c+0]=e>>>0;a[c+1]=(d|(b&31)<<1|b>>>31)>>>0};var c=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,
9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,
8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];d.substitute=
function(b,a){for(var h=0,e=0;4>e;e++)var d=b>>>18-6*e&63,d=c[64*e+d],h=h<<4,h=h|d;for(e=0;4>e;e++)d=a>>>18-6*e&63,d=c[256+64*e+d],h<<=4,h|=d;return h>>>0};var k=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];d.permute=function(b){for(var a=0,c=0;c<k.length;c++)a<<=1,a|=b>>>k[c]&1;return a>>>0};d.padSplit=function(b,a,c){for(b=b.toString(2);b.length<a;)b="0"+b;for(var e=[],d=0;d<a;d+=c)e.push(b.slice(d,d+c));return e.join(" ")}},{}],40:[function(a,f,d){(function(d){var c=
a("create-hash/md5");f.exports=function(a,b,f,h){d.isBuffer(a)||(a=new d(a,"binary"));b&&!d.isBuffer(b)&&(b=new d(b,"binary"));f/=8;h=h||0;for(var e=0,m=0,t=new d(f),p=new d(h),n=0,r,x,B=[];;){0<n++&&B.push(r);B.push(a);b&&B.push(b);r=c(d.concat(B));B=[];x=0;if(0<f)for(;0!==f&&x!==r.length;)t[e++]=r[x],f--,x++;if(0<h&&x!==r.length)for(;0!==h&&x!==r.length;)p[m++]=r[x],h--,x++;if(0===f&&0===h)break}for(x=0;x<r.length;x++)r[x]=0;return{key:t,iv:p}}}).call(this,a("buffer").Buffer)},{buffer:44,"create-hash/md5":24}],
41:[function(a,f,d){f.exports="function"===typeof Object.create?function(a,c){a.super_=c;a.prototype=Object.create(c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,c){a.super_=c;var d=function(){};d.prototype=c.prototype;a.prototype=new d;a.prototype.constructor=a}},{}],42:[function(a,f,d){function g(a,d){if(!a)throw Error(d||"Assertion failed");}f.exports=g;g.equal=function(a,d,b){if(a!=d)throw Error(b||"Assertion failed: "+a+" != "+d);}},{}],43:[function(a,
f,d){},{}],44:[function(a,f,d){(function(g){function c(){try{var b=new Uint8Array(1);b.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===b.foo()&&"function"===typeof b.subarray&&0===b.subarray(1,1).byteLength}catch(a){return!1}}function f(a,c){if((b.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<c)throw new RangeError("Invalid typed array length");b.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(c),a.__proto__=b.prototype):(null===a&&(a=new b(c)),a.length=c);return a}function b(a,
c,d){if(!(b.TYPED_ARRAY_SUPPORT||this instanceof b))return new b(a,c,d);if("number"===typeof a){if("string"===typeof c)throw Error("If encoding is specified then the first argument must be a string");return e(this,a)}return l(this,a,c,d)}function l(a,c,d,e){if("number"===typeof c)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&c instanceof ArrayBuffer){c.byteLength;if(0>d||c.byteLength<d)throw new RangeError("'offset' is out of bounds");if(c.byteLength<
d+(e||0))throw new RangeError("'length' is out of bounds");c=void 0===d&&void 0===e?new Uint8Array(c):void 0===e?new Uint8Array(c,d):new Uint8Array(c,d,e);b.TYPED_ARRAY_SUPPORT?(a=c,a.__proto__=b.prototype):a=m(a,c);return a}if("string"===typeof c){e=a;a=d;if("string"!==typeof a||""===a)a="utf8";if(!b.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');d=n(c,a)|0;e=f(e,d);c=e.write(c,a);c!==d&&(e=e.slice(0,c));return e}return t(a,c)}function h(b){if("number"!==typeof b)throw new TypeError('"size" argument must be a number');
if(0>b)throw new RangeError('"size" argument must not be negative');}function e(a,c){h(c);a=f(a,0>c?0:p(c)|0);if(!b.TYPED_ARRAY_SUPPORT)for(var d=0;d<c;++d)a[d]=0;return a}function m(b,a){var c=0>a.length?0:p(a.length)|0;b=f(b,c);for(var d=0;d<c;d+=1)b[d]=a[d]&255;return b}function t(a,c){if(b.isBuffer(c)){var d=p(c.length)|0;a=f(a,d);if(0===a.length)return a;c.copy(a,0,0,d);return a}if(c){if("undefined"!==typeof ArrayBuffer&&c.buffer instanceof ArrayBuffer||"length"in c)return(d="number"!==typeof c.length)||
(d=c.length,d=d!==d),d?f(a,0):m(a,c);if("Buffer"===c.type&&K(c.data))return m(a,c.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function p(a){if(a>=(b.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(b.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return a|0}function n(a,c){if(b.isBuffer(a))return a.length;if("undefined"!==typeof ArrayBuffer&&
"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!==typeof a&&(a=""+a);var d=a.length;if(0===d)return 0;for(var e=!1;;)switch(c){case "ascii":case "latin1":case "binary":return d;case "utf8":case "utf-8":case void 0:return J(a).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*d;case "hex":return d>>>1;case "base64":return H.toByteArray(C(a)).length;default:if(e)return J(a).length;c=(""+c).toLowerCase();e=!0}}
function r(b,a,c){var d=!1;if(void 0===a||0>a)a=0;if(a>this.length)return"";if(void 0===c||c>this.length)c=this.length;if(0>=c)return"";c>>>=0;a>>>=0;if(c<=a)return"";for(b||(b="utf8");;)switch(b){case "hex":b=a;a=c;c=this.length;if(!b||0>b)b=0;if(!a||0>a||a>c)a=c;d="";for(c=b;c<a;++c)b=d,d=this[c],d=16>d?"0"+d.toString(16):d.toString(16),d=b+d;return d;case "utf8":case "utf-8":return z(this,a,c);case "ascii":b="";for(c=Math.min(this.length,c);a<c;++a)b+=String.fromCharCode(this[a]&127);return b;
case "latin1":case "binary":b="";for(c=Math.min(this.length,c);a<c;++a)b+=String.fromCharCode(this[a]);return b;case "base64":return a=0===a&&c===this.length?H.fromByteArray(this):H.fromByteArray(this.slice(a,c)),a;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":a=this.slice(a,c);c="";for(b=0;b<a.length;b+=2)c+=String.fromCharCode(a[b]+256*a[b+1]);return c;default:if(d)throw new TypeError("Unknown encoding: "+b);b=(b+"").toLowerCase();d=!0}}function x(b,a,c){var d=b[a];b[a]=b[c];b[c]=d}function B(a,
c,d,e,h){if(0===a.length)return-1;"string"===typeof d?(e=d,d=0):2147483647<d?d=2147483647:-2147483648>d&&(d=-2147483648);d=+d;isNaN(d)&&(d=h?0:a.length-1);0>d&&(d=a.length+d);if(d>=a.length){if(h)return-1;d=a.length-1}else if(0>d)if(h)d=0;else return-1;"string"===typeof c&&(c=b.from(c,e));if(b.isBuffer(c))return 0===c.length?-1:w(a,c,d,e,h);if("number"===typeof c)return c&=255,b.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?h?Uint8Array.prototype.indexOf.call(a,c,d):Uint8Array.prototype.lastIndexOf.call(a,
c,d):w(a,[c],d,e,h);throw new TypeError("val must be string, number or Buffer");}function w(b,a,c,d,e){function h(b,a){return 1===g?b[a]:b.readUInt16BE(a*g)}var g=1,f=b.length,k=a.length;if(void 0!==d&&(d=String(d).toLowerCase(),"ucs2"===d||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(2>b.length||2>a.length)return-1;g=2;f/=2;k/=2;c/=2}if(e)for(d=-1;c<f;c++)if(h(b,c)===h(a,-1===d?0:c-d)){if(-1===d&&(d=c),c-d+1===k)return d*g}else-1!==d&&(c-=c-d),d=-1;else for(c+k>f&&(c=f-k);0<=c;c--){f=!0;for(d=
0;d<k;d++)if(h(b,c+d)!==h(a,d)){f=!1;break}if(f)return c}return-1}function z(b,a,c){c=Math.min(b.length,c);for(var d=[];a<c;){var e=b[a],h=null,f=239<e?4:223<e?3:191<e?2:1;if(a+f<=c){var g,k,l;switch(f){case 1:128>e&&(h=e);break;case 2:g=b[a+1];128===(g&192)&&(e=(e&31)<<6|g&63,127<e&&(h=e));break;case 3:g=b[a+1];k=b[a+2];128===(g&192)&&128===(k&192)&&(e=(e&15)<<12|(g&63)<<6|k&63,2047<e&&(55296>e||57343<e)&&(h=e));break;case 4:g=b[a+1],k=b[a+2],l=b[a+3],128===(g&192)&&128===(k&192)&&128===(l&192)&&
(e=(e&15)<<18|(g&63)<<12|(k&63)<<6|l&63,65535<e&&1114112>e&&(h=e))}}null===h?(h=65533,f=1):65535<h&&(h-=65536,d.push(h>>>10&1023|55296),h=56320|h&1023);d.push(h);a+=f}b=d.length;if(b<=M)d=String.fromCharCode.apply(String,d);else{c="";for(a=0;a<b;)c+=String.fromCharCode.apply(String,d.slice(a,a+=M));d=c}return d}function u(b,a,c){if(0!==b%1||0>b)throw new RangeError("offset is not uint");if(b+a>c)throw new RangeError("Trying to access beyond buffer length");}function v(a,c,d,e,h,g){if(!b.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');
if(c>h||c<g)throw new RangeError('"value" argument is out of bounds');if(d+e>a.length)throw new RangeError("Index out of range");}function A(b,a,c,d){0>a&&(a=65535+a+1);for(var e=0,h=Math.min(b.length-c,2);e<h;++e)b[c+e]=(a&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function D(b,a,c,d){0>a&&(a=4294967295+a+1);for(var e=0,h=Math.min(b.length-c,4);e<h;++e)b[c+e]=a>>>8*(d?e:3-e)&255}function G(b,a,c,d,e,h){if(c+d>b.length)throw new RangeError("Index out of range");if(0>c)throw new RangeError("Index out of range");
}function y(b,a,c,d,e){e||G(b,a,c,4,3.4028234663852886E38,-3.4028234663852886E38);F.write(b,a,c,d,23,4);return c+4}function I(b,a,c,d,e){e||G(b,a,c,8,1.7976931348623157E308,-1.7976931348623157E308);F.write(b,a,c,d,52,8);return c+8}function C(b){b=b.trim?b.trim():b.replace(/^\s+|\s+$/g,"");b=b.replace(L,"");if(2>b.length)return"";for(;0!==b.length%4;)b+="=";return b}function J(b,a){a=a||Infinity;for(var c,d=b.length,e=null,h=[],g=0;g<d;++g){c=b.charCodeAt(g);if(55295<c&&57344>c){if(!e){if(56319<c){-1<
(a-=3)&&h.push(239,191,189);continue}else if(g+1===d){-1<(a-=3)&&h.push(239,191,189);continue}e=c;continue}if(56320>c){-1<(a-=3)&&h.push(239,191,189);e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&-1<(a-=3)&&h.push(239,191,189);e=null;if(128>c){if(0>--a)break;h.push(c)}else if(2048>c){if(0>(a-=2))break;h.push(c>>6|192,c&63|128)}else if(65536>c){if(0>(a-=3))break;h.push(c>>12|224,c>>6&63|128,c&63|128)}else if(1114112>c){if(0>(a-=4))break;h.push(c>>18|240,c>>12&63|128,c>>6&63|128,c&63|128)}else throw Error("Invalid code point");
}return h}function q(b){for(var a=[],c=0;c<b.length;++c)a.push(b.charCodeAt(c)&255);return a}function E(b,a,c,d){for(var e=0;e<d&&!(e+c>=a.length||e>=b.length);++e)a[e+c]=b[e];return e}var H=a("base64-js"),F=a("ieee754"),K=a("isarray");d.Buffer=b;d.SlowBuffer=function(a){+a!=a&&(a=0);return b.alloc(+a)};d.INSPECT_MAX_BYTES=50;b.TYPED_ARRAY_SUPPORT=void 0!==g.TYPED_ARRAY_SUPPORT?g.TYPED_ARRAY_SUPPORT:c();d.kMaxLength=b.TYPED_ARRAY_SUPPORT?2147483647:1073741823;b.poolSize=8192;b._augment=function(a){a.__proto__=
b.prototype;return a};b.from=function(b,a,c){return l(null,b,a,c)};b.TYPED_ARRAY_SUPPORT&&(b.prototype.__proto__=Uint8Array.prototype,b.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&b[Symbol.species]===b&&Object.defineProperty(b,Symbol.species,{value:null,configurable:!0}));b.alloc=function(b,a,c){h(b);b=0>=b?f(null,b):void 0!==a?"string"===typeof c?f(null,b).fill(a,c):f(null,b).fill(a):f(null,b);return b};b.allocUnsafe=function(b){return e(null,b)};b.allocUnsafeSlow=function(b){return e(null,
b)};b.isBuffer=function(b){return!(null==b||!b._isBuffer)};b.compare=function(a,c){if(!b.isBuffer(a)||!b.isBuffer(c))throw new TypeError("Arguments must be Buffers");if(a===c)return 0;for(var d=a.length,e=c.length,h=0,g=Math.min(d,e);h<g;++h)if(a[h]!==c[h]){d=a[h];e=c[h];break}return d<e?-1:e<d?1:0};b.isEncoding=function(b){switch(String(b).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;
default:return!1}};b.concat=function(a,c){if(!K(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return b.alloc(0);var d;if(void 0===c)for(d=c=0;d<a.length;++d)c+=a[d].length;var e=b.allocUnsafe(c),h=0;for(d=0;d<a.length;++d){var g=a[d];if(!b.isBuffer(g))throw new TypeError('"list" argument must be an Array of Buffers');g.copy(e,h);h+=g.length}return e};b.byteLength=n;b.prototype._isBuffer=!0;b.prototype.swap16=function(){var b=this.length;if(0!==b%2)throw new RangeError("Buffer size must be a multiple of 16-bits");
for(var a=0;a<b;a+=2)x(this,a,a+1);return this};b.prototype.swap32=function(){var b=this.length;if(0!==b%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var a=0;a<b;a+=4)x(this,a,a+3),x(this,a+1,a+2);return this};b.prototype.swap64=function(){var b=this.length;if(0!==b%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var a=0;a<b;a+=8)x(this,a,a+7),x(this,a+1,a+6),x(this,a+2,a+5),x(this,a+3,a+4);return this};b.prototype.toString=function(){var b=this.length|
0;return 0===b?"":0===arguments.length?z(this,0,b):r.apply(this,arguments)};b.prototype.equals=function(a){if(!b.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:0===b.compare(this,a)};b.prototype.inspect=function(){var b="",a=d.INSPECT_MAX_BYTES;0<this.length&&(b=this.toString("hex",0,a).match(/.{2}/g).join(" "),this.length>a&&(b+=" ... "));return"<Buffer "+b+">"};b.prototype.compare=function(a,c,d,e,h){if(!b.isBuffer(a))throw new TypeError("Argument must be a Buffer");
void 0===c&&(c=0);void 0===d&&(d=a?a.length:0);void 0===e&&(e=0);void 0===h&&(h=this.length);if(0>c||d>a.length||0>e||h>this.length)throw new RangeError("out of range index");if(e>=h&&c>=d)return 0;if(e>=h)return-1;if(c>=d)return 1;c>>>=0;d>>>=0;e>>>=0;h>>>=0;if(this===a)return 0;var g=h-e,f=d-c,k=Math.min(g,f);e=this.slice(e,h);a=a.slice(c,d);for(c=0;c<k;++c)if(e[c]!==a[c]){g=e[c];f=a[c];break}return g<f?-1:f<g?1:0};b.prototype.includes=function(b,a,c){return-1!==this.indexOf(b,a,c)};b.prototype.indexOf=
function(b,a,c){return B(this,b,a,c,!0)};b.prototype.lastIndexOf=function(b,a,c){return B(this,b,a,c,!1)};b.prototype.write=function(b,a,c,d){if(void 0===a)d="utf8",c=this.length,a=0;else if(void 0===c&&"string"===typeof a)d=a,c=this.length,a=0;else if(isFinite(a))a|=0,isFinite(c)?(c|=0,void 0===d&&(d="utf8")):(d=c,c=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var e=this.length-a;if(void 0===c||c>e)c=e;if(0<b.length&&(0>c||0>a)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");
d||(d="utf8");for(e=!1;;)switch(d){case "hex":a:{a=Number(a)||0;d=this.length-a;c?(c=Number(c),c>d&&(c=d)):c=d;d=b.length;if(0!==d%2)throw new TypeError("Invalid hex string");c>d/2&&(c=d/2);for(d=0;d<c;++d){e=parseInt(b.substr(2*d,2),16);if(isNaN(e)){b=d;break a}this[a+d]=e}b=d}return b;case "utf8":case "utf-8":return E(J(b,this.length-a),this,a,c);case "ascii":return E(q(b),this,a,c);case "latin1":case "binary":return E(q(b),this,a,c);case "base64":return E(H.toByteArray(C(b)),this,a,c);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":d=
this.length-a;for(var h,g=[],f=0;f<b.length&&!(0>(d-=2));++f)h=b.charCodeAt(f),e=h>>8,h%=256,g.push(h),g.push(e);return E(g,this,a,c);default:if(e)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase();e=!0}};b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;b.prototype.slice=function(a,c){var d=this.length;a=~~a;c=void 0===c?d:~~c;0>a?(a+=d,0>a&&(a=0)):a>d&&(a=d);0>c?(c+=d,0>c&&(c=0)):c>d&&(c=d);c<a&&(c=a);if(b.TYPED_ARRAY_SUPPORT)d=
this.subarray(a,c),d.__proto__=b.prototype;else for(var e=c-a,d=new b(e,void 0),h=0;h<e;++h)d[h]=this[h+a];return d};b.prototype.readUIntLE=function(b,a,c){b|=0;a|=0;c||u(b,a,this.length);c=this[b];for(var d=1,e=0;++e<a&&(d*=256);)c+=this[b+e]*d;return c};b.prototype.readUIntBE=function(b,a,c){b|=0;a|=0;c||u(b,a,this.length);c=this[b+--a];for(var d=1;0<a&&(d*=256);)c+=this[b+--a]*d;return c};b.prototype.readUInt8=function(b,a){a||u(b,1,this.length);return this[b]};b.prototype.readUInt16LE=function(b,
a){a||u(b,2,this.length);return this[b]|this[b+1]<<8};b.prototype.readUInt16BE=function(b,a){a||u(b,2,this.length);return this[b]<<8|this[b+1]};b.prototype.readUInt32LE=function(b,a){a||u(b,4,this.length);return(this[b]|this[b+1]<<8|this[b+2]<<16)+16777216*this[b+3]};b.prototype.readUInt32BE=function(b,a){a||u(b,4,this.length);return 16777216*this[b]+(this[b+1]<<16|this[b+2]<<8|this[b+3])};b.prototype.readIntLE=function(b,a,c){b|=0;a|=0;c||u(b,a,this.length);c=this[b];for(var d=1,e=0;++e<a&&(d*=256);)c+=
this[b+e]*d;c>=128*d&&(c-=Math.pow(2,8*a));return c};b.prototype.readIntBE=function(b,a,c){b|=0;a|=0;c||u(b,a,this.length);c=a;for(var d=1,e=this[b+--c];0<c&&(d*=256);)e+=this[b+--c]*d;e>=128*d&&(e-=Math.pow(2,8*a));return e};b.prototype.readInt8=function(b,a){a||u(b,1,this.length);return this[b]&128?-1*(255-this[b]+1):this[b]};b.prototype.readInt16LE=function(b,a){a||u(b,2,this.length);var c=this[b]|this[b+1]<<8;return c&32768?c|4294901760:c};b.prototype.readInt16BE=function(b,a){a||u(b,2,this.length);
var c=this[b+1]|this[b]<<8;return c&32768?c|4294901760:c};b.prototype.readInt32LE=function(b,a){a||u(b,4,this.length);return this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24};b.prototype.readInt32BE=function(b,a){a||u(b,4,this.length);return this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]};b.prototype.readFloatLE=function(b,a){a||u(b,4,this.length);return F.read(this,b,!0,23,4)};b.prototype.readFloatBE=function(b,a){a||u(b,4,this.length);return F.read(this,b,!1,23,4)};b.prototype.readDoubleLE=function(b,
a){a||u(b,8,this.length);return F.read(this,b,!0,52,8)};b.prototype.readDoubleBE=function(b,a){a||u(b,8,this.length);return F.read(this,b,!1,52,8)};b.prototype.writeUIntLE=function(b,a,c,d){b=+b;a|=0;c|=0;d||v(this,b,a,c,Math.pow(2,8*c)-1,0);d=1;var e=0;for(this[a]=b&255;++e<c&&(d*=256);)this[a+e]=b/d&255;return a+c};b.prototype.writeUIntBE=function(b,a,c,d){b=+b;a|=0;c|=0;d||v(this,b,a,c,Math.pow(2,8*c)-1,0);d=c-1;var e=1;for(this[a+d]=b&255;0<=--d&&(e*=256);)this[a+d]=b/e&255;return a+c};b.prototype.writeUInt8=
function(a,c,d){a=+a;c|=0;d||v(this,a,c,1,255,0);b.TYPED_ARRAY_SUPPORT||(a=Math.floor(a));this[c]=a&255;return c+1};b.prototype.writeUInt16LE=function(a,c,d){a=+a;c|=0;d||v(this,a,c,2,65535,0);b.TYPED_ARRAY_SUPPORT?(this[c]=a&255,this[c+1]=a>>>8):A(this,a,c,!0);return c+2};b.prototype.writeUInt16BE=function(a,c,d){a=+a;c|=0;d||v(this,a,c,2,65535,0);b.TYPED_ARRAY_SUPPORT?(this[c]=a>>>8,this[c+1]=a&255):A(this,a,c,!1);return c+2};b.prototype.writeUInt32LE=function(a,c,d){a=+a;c|=0;d||v(this,a,c,4,4294967295,
0);b.TYPED_ARRAY_SUPPORT?(this[c+3]=a>>>24,this[c+2]=a>>>16,this[c+1]=a>>>8,this[c]=a&255):D(this,a,c,!0);return c+4};b.prototype.writeUInt32BE=function(a,c,d){a=+a;c|=0;d||v(this,a,c,4,4294967295,0);b.TYPED_ARRAY_SUPPORT?(this[c]=a>>>24,this[c+1]=a>>>16,this[c+2]=a>>>8,this[c+3]=a&255):D(this,a,c,!1);return c+4};b.prototype.writeIntLE=function(b,a,c,d){b=+b;a|=0;d||(d=Math.pow(2,8*c-1),v(this,b,a,c,d-1,-d));d=0;var e=1,h=0;for(this[a]=b&255;++d<c&&(e*=256);)0>b&&0===h&&0!==this[a+d-1]&&(h=1),this[a+
d]=(b/e>>0)-h&255;return a+c};b.prototype.writeIntBE=function(b,a,c,d){b=+b;a|=0;d||(d=Math.pow(2,8*c-1),v(this,b,a,c,d-1,-d));d=c-1;var e=1,h=0;for(this[a+d]=b&255;0<=--d&&(e*=256);)0>b&&0===h&&0!==this[a+d+1]&&(h=1),this[a+d]=(b/e>>0)-h&255;return a+c};b.prototype.writeInt8=function(a,c,d){a=+a;c|=0;d||v(this,a,c,1,127,-128);b.TYPED_ARRAY_SUPPORT||(a=Math.floor(a));0>a&&(a+=256);this[c]=a&255;return c+1};b.prototype.writeInt16LE=function(a,c,d){a=+a;c|=0;d||v(this,a,c,2,32767,-32768);b.TYPED_ARRAY_SUPPORT?
(this[c]=a&255,this[c+1]=a>>>8):A(this,a,c,!0);return c+2};b.prototype.writeInt16BE=function(a,c,d){a=+a;c|=0;d||v(this,a,c,2,32767,-32768);b.TYPED_ARRAY_SUPPORT?(this[c]=a>>>8,this[c+1]=a&255):A(this,a,c,!1);return c+2};b.prototype.writeInt32LE=function(a,c,d){a=+a;c|=0;d||v(this,a,c,4,2147483647,-2147483648);b.TYPED_ARRAY_SUPPORT?(this[c]=a&255,this[c+1]=a>>>8,this[c+2]=a>>>16,this[c+3]=a>>>24):D(this,a,c,!0);return c+4};b.prototype.writeInt32BE=function(a,c,d){a=+a;c|=0;d||v(this,a,c,4,2147483647,
-2147483648);0>a&&(a+=4294967296);b.TYPED_ARRAY_SUPPORT?(this[c]=a>>>24,this[c+1]=a>>>16,this[c+2]=a>>>8,this[c+3]=a&255):D(this,a,c,!1);return c+4};b.prototype.writeFloatLE=function(b,a,c){return y(this,b,a,!0,c)};b.prototype.writeFloatBE=function(b,a,c){return y(this,b,a,!1,c)};b.prototype.writeDoubleLE=function(b,a,c){return I(this,b,a,!0,c)};b.prototype.writeDoubleBE=function(b,a,c){return I(this,b,a,!1,c)};b.prototype.copy=function(a,c,d,e){d||(d=0);e||0===e||(e=this.length);c>=a.length&&(c=
a.length);c||(c=0);0<e&&e<d&&(e=d);if(e===d||0===a.length||0===this.length)return 0;if(0>c)throw new RangeError("targetStart out of bounds");if(0>d||d>=this.length)throw new RangeError("sourceStart out of bounds");if(0>e)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length);a.length-c<e-d&&(e=a.length-c+d);var h=e-d;if(this===a&&d<c&&c<e)for(e=h-1;0<=e;--e)a[e+c]=this[e+d];else if(1E3>h||!b.TYPED_ARRAY_SUPPORT)for(e=0;e<h;++e)a[e+c]=this[e+d];else Uint8Array.prototype.set.call(a,
this.subarray(d,d+h),c);return h};b.prototype.fill=function(a,c,d,e){if("string"===typeof a){"string"===typeof c?(e=c,c=0,d=this.length):"string"===typeof d&&(e=d,d=this.length);if(1===a.length){var h=a.charCodeAt(0);256>h&&(a=h)}if(void 0!==e&&"string"!==typeof e)throw new TypeError("encoding must be a string");if("string"===typeof e&&!b.isEncoding(e))throw new TypeError("Unknown encoding: "+e);}else"number"===typeof a&&(a&=255);if(0>c||this.length<c||this.length<d)throw new RangeError("Out of range index");
if(d<=c)return this;c>>>=0;d=void 0===d?this.length:d>>>0;a||(a=0);if("number"===typeof a)for(e=c;e<d;++e)this[e]=a;else for(a=b.isBuffer(a)?a:J((new b(a,e)).toString()),h=a.length,e=0;e<d-c;++e)this[e+c]=a[e%h];return this};var L=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"base64-js":45,ieee754:46,isarray:47}],45:[function(a,f,d){function g(b){var a=b.length;if(0<a%4)throw Error("Invalid string. Length must be a multiple of 4");
return"="===b[a-2]?2:"="===b[a-1]?1:0}function c(b,a,c){for(var d=[],g=a;g<c;g+=3)a=(b[g]<<16)+(b[g+1]<<8)+b[g+2],d.push(k[a>>18&63]+k[a>>12&63]+k[a>>6&63]+k[a&63]);return d.join("")}d.byteLength=function(b){return 3*b.length/4-g(b)};d.toByteArray=function(a){var c,d,f,k,n;c=a.length;k=g(a);n=new l(3*c/4-k);d=0<k?c-4:c;var r=0;for(c=0;c<d;c+=4)f=b[a.charCodeAt(c)]<<18|b[a.charCodeAt(c+1)]<<12|b[a.charCodeAt(c+2)]<<6|b[a.charCodeAt(c+3)],n[r++]=f>>16&255,n[r++]=f>>8&255,n[r++]=f&255;2===k?(f=b[a.charCodeAt(c)]<<
2|b[a.charCodeAt(c+1)]>>4,n[r++]=f&255):1===k&&(f=b[a.charCodeAt(c)]<<10|b[a.charCodeAt(c+1)]<<4|b[a.charCodeAt(c+2)]>>2,n[r++]=f>>8&255,n[r++]=f&255);return n};d.fromByteArray=function(b){for(var a=b.length,d=a%3,g="",f=[],l=0,r=a-d;l<r;l+=16383)f.push(c(b,l,l+16383>r?r:l+16383));1===d?(b=b[a-1],g+=k[b>>2],g+=k[b<<4&63],g+="=="):2===d&&(b=(b[a-2]<<8)+b[a-1],g+=k[b>>10],g+=k[b>>4&63],g+=k[b<<2&63],g+="=");f.push(g);return f.join("")};var k=[],b=[],l="undefined"!==typeof Uint8Array?Uint8Array:Array;
for(a=0;64>a;++a)k[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a],b["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(a)]=a;b[45]=62;b[95]=63},{}],46:[function(a,f,d){d.read=function(a,c,d,b,f){var h;h=8*f-b-1;var e=(1<<h)-1,m=e>>1,t=-7;f=d?f-1:0;var p=d?-1:1,n=a[c+f];f+=p;d=n&(1<<-t)-1;n>>=-t;for(t+=h;0<t;d=256*d+a[c+f],f+=p,t-=8);h=d&(1<<-t)-1;d>>=-t;for(t+=b;0<t;h=256*h+a[c+f],f+=p,t-=8);if(0===d)d=1-m;else{if(d===e)return h?NaN:Infinity*(n?
-1:1);h+=Math.pow(2,b);d-=m}return(n?-1:1)*h*Math.pow(2,d-b)};d.write=function(a,c,d,b,f,h){var e,m=8*h-f-1,t=(1<<m)-1,p=t>>1,n=23===f?Math.pow(2,-24)-Math.pow(2,-77):0;h=b?0:h-1;var r=b?1:-1,x=0>c||0===c&&0>1/c?1:0;c=Math.abs(c);isNaN(c)||Infinity===c?(c=isNaN(c)?1:0,b=t):(b=Math.floor(Math.log(c)/Math.LN2),1>c*(e=Math.pow(2,-b))&&(b--,e*=2),c=1<=b+p?c+n/e:c+n*Math.pow(2,1-p),2<=c*e&&(b++,e/=2),b+p>=t?(c=0,b=t):1<=b+p?(c=(c*e-1)*Math.pow(2,f),b+=p):(c=c*Math.pow(2,p-1)*Math.pow(2,f),b=0));for(;8<=
f;a[d+h]=c&255,h+=r,c/=256,f-=8);b=b<<f|c;for(m+=f;0<m;a[d+h]=b&255,h+=r,b/=256,m-=8);a[d+h-r]|=128*x}},{}],47:[function(a,f,d){var g={}.toString;f.exports=Array.isArray||function(a){return"[object Array]"==g.call(a)}},{}],48:[function(a,f,d){function g(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function c(b){return"function"===typeof b}function k(b){return"object"===typeof b&&null!==b}f.exports=g;g.EventEmitter=g;g.prototype._events=void 0;g.prototype._maxListeners=
void 0;g.defaultMaxListeners=10;g.prototype.setMaxListeners=function(b){if("number"!==typeof b||0>b||isNaN(b))throw TypeError("n must be a positive number");this._maxListeners=b;return this};g.prototype.emit=function(b){var a,d,e,f;this._events||(this._events={});if("error"===b&&(!this._events.error||k(this._events.error)&&!this._events.error.length)){a=arguments[1];if(a instanceof Error)throw a;d=Error('Uncaught, unspecified "error" event. ('+a+")");d.context=a;throw d;}d=this._events[b];if(void 0===
d)return!1;if(c(d))switch(arguments.length){case 1:d.call(this);break;case 2:d.call(this,arguments[1]);break;case 3:d.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),d.apply(this,a)}else if(k(d))for(a=Array.prototype.slice.call(arguments,1),f=d.slice(),d=f.length,e=0;e<d;e++)f[e].apply(this,a);return!0};g.prototype.addListener=function(b,a){var d;if(!c(a))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&
this.emit("newListener",b,c(a.listener)?a.listener:a);this._events[b]?k(this._events[b])?this._events[b].push(a):this._events[b]=[this._events[b],a]:this._events[b]=a;k(this._events[b])&&!this._events[b].warned&&(d=void 0!==this._maxListeners?this._maxListeners:g.defaultMaxListeners)&&0<d&&this._events[b].length>d&&(this._events[b].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[b].length),
"function"===typeof console.trace&&console.trace());return this};g.prototype.on=g.prototype.addListener;g.prototype.once=function(b,a){function d(){this.removeListener(b,d);e||(e=!0,a.apply(this,arguments))}if(!c(a))throw TypeError("listener must be a function");var e=!1;d.listener=a;this.on(b,d);return this};g.prototype.removeListener=function(b,a){var d,e,f;if(!c(a))throw TypeError("listener must be a function");if(!this._events||!this._events[b])return this;d=this._events[b];f=d.length;e=-1;if(d===
a||c(d.listener)&&d.listener===a)delete this._events[b],this._events.removeListener&&this.emit("removeListener",b,a);else if(k(d)){for(;0<f--;)if(d[f]===a||d[f].listener&&d[f].listener===a){e=f;break}if(0>e)return this;1===d.length?(d.length=0,delete this._events[b]):d.splice(e,1);this._events.removeListener&&this.emit("removeListener",b,a)}return this};g.prototype.removeAllListeners=function(a){var d;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events=
{}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(d in this._events)"removeListener"!==d&&this.removeAllListeners(d);this.removeAllListeners("removeListener");this._events={};return this}d=this._events[a];if(c(d))this.removeListener(a,d);else if(d)for(;d.length;)this.removeListener(a,d[d.length-1]);delete this._events[a];return this};g.prototype.listeners=function(a){return this._events&&this._events[a]?c(this._events[a])?[this._events[a]]:this._events[a].slice():[]};g.prototype.listenerCount=
function(a){if(this._events){a=this._events[a];if(c(a))return 1;if(a)return a.length}return 0};g.listenerCount=function(a,c){return a.listenerCount(c)}},{}],49:[function(a,f,d){arguments[4][41][0].apply(d,arguments)},{dup:41}],50:[function(a,f,d){function g(a){return!!a.constructor&&"function"===typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}f.exports=function(a){return null!=a&&(g(a)||"function"===typeof a.readFloatLE&&"function"===typeof a.slice&&g(a.slice(0,0))||!!a._isBuffer)}},{}],
51:[function(a,f,d){function g(){throw Error("setTimeout has not been defined");}function c(){throw Error("clearTimeout has not been defined");}function k(a){if(t===setTimeout)return setTimeout(a,0);if((t===g||!t)&&setTimeout)return t=setTimeout,setTimeout(a,0);try{return t(a,0)}catch(b){try{return t.call(null,a,0)}catch(c){return t.call(this,a,0)}}}function b(a){if(p===clearTimeout)return clearTimeout(a);if((p===c||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(a);try{return p(a)}catch(b){try{return p.call(null,
a)}catch(d){return p.call(this,a)}}}function l(){r&&x&&(r=!1,x.length?n=x.concat(n):B=-1,n.length&&h())}function h(){if(!r){var a=k(l);r=!0;for(var c=n.length;c;){x=n;for(n=[];++B<c;)x&&x[B].run();B=-1;c=n.length}x=null;r=!1;b(a)}}function e(a,b){this.fun=a;this.array=b}function m(){}a=f.exports={};var t,p;try{t="function"===typeof setTimeout?setTimeout:g}catch(w){t=g}try{p="function"===typeof clearTimeout?clearTimeout:c}catch(w){p=c}var n=[],r=!1,x,B=-1;a.nextTick=function(a){var b=Array(arguments.length-
1);if(1<arguments.length)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];n.push(new e(a,b));1!==n.length||r||k(h)};e.prototype.run=function(){this.fun.apply(null,this.array)};a.title="browser";a.browser=!0;a.env={};a.argv=[];a.version="";a.versions={};a.on=m;a.addListener=m;a.once=m;a.off=m;a.removeListener=m;a.removeAllListeners=m;a.emit=m;a.binding=function(a){throw Error("process.binding is not supported");};a.cwd=function(){return"/"};a.chdir=function(a){throw Error("process.chdir is not supported");
};a.umask=function(){return 0}},{}],52:[function(a,f,d){f.exports=a("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":53}],53:[function(a,f,d){function g(a){if(!(this instanceof g))return new g(a);l.call(this,a);h.call(this,a);a&&!1===a.readable&&(this.readable=!1);a&&!1===a.writable&&(this.writable=!1);this.allowHalfOpen=!0;a&&!1===a.allowHalfOpen&&(this.allowHalfOpen=!1);this.once("end",c)}function c(){this.allowHalfOpen||this._writableState.ended||b(k,this)}function k(a){a.end()}d=Object.keys||
function(a){var b=[],c;for(c in a)b.push(c);return b};f.exports=g;var b=a("process-nextick-args");f=a("core-util-is");f.inherits=a("inherits");var l=a("./_stream_readable"),h=a("./_stream_writable");f.inherits(g,l);a=d(h.prototype);for(f=0;f<a.length;f++)d=a[f],g.prototype[d]||(g.prototype[d]=h.prototype[d])},{"./_stream_readable":55,"./_stream_writable":57,"core-util-is":60,inherits:49,"process-nextick-args":62}],54:[function(a,f,d){function g(a){if(!(this instanceof g))return new g(a);c.call(this,
a)}f.exports=g;var c=a("./_stream_transform");f=a("core-util-is");f.inherits=a("inherits");f.inherits(g,c);g.prototype._transform=function(a,b,c){c(null,a)}},{"./_stream_transform":56,"core-util-is":60,inherits:49}],55:[function(a,f,d){(function(d){function c(a,b,c){if("function"===typeof a.prependListener)return a.prependListener(b,c);if(a._events&&a._events[b])D(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]];else a.on(b,c)}function k(b,c){F=F||a("./_stream_duplex");b=b||{};
this.objectMode=!!b.objectMode;c instanceof F&&(this.objectMode=this.objectMode||!!b.readableObjectMode);var d=b.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e;this.highWaterMark=~~this.highWaterMark;this.buffer=new E;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.reading=this.endEmitted=this.ended=!1;this.sync=!0;this.resumeScheduled=this.readableListening=this.emittedReadable=this.needReadable=!1;this.defaultEncoding=b.defaultEncoding||"utf8";this.ranOut=
!1;this.awaitDrain=0;this.readingMore=!1;this.encoding=this.decoder=null;b.encoding&&(H||(H=a("string_decoder/").StringDecoder),this.decoder=new H(b.encoding),this.encoding=b.encoding)}function b(c){F=F||a("./_stream_duplex");if(!(this instanceof b))return new b(c);this._readableState=new k(c,this);this.readable=!0;c&&"function"===typeof c.read&&(this._read=c.read);G.call(this)}function l(a,b,c,d,h){var f;f=c;var g=null;y.isBuffer(f)||"string"===typeof f||null===f||void 0===f||b.objectMode||(g=new TypeError("Invalid non-string/buffer chunk"));
if(f=g)a.emit("error",f);else if(null===c)b.reading=!1,b.ended||(b.decoder&&(c=b.decoder.end())&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length),b.ended=!0,e(a));else if(b.objectMode||c&&0<c.length)if(b.ended&&!h)a.emit("error",Error("stream.push() after EOF"));else if(b.endEmitted&&h)a.emit("error",Error("stream.unshift() after end event"));else{var k;!b.decoder||h||d||(c=b.decoder.write(c),k=!b.objectMode&&0===c.length);h||(b.reading=!1);k||(b.flowing&&0===b.length&&!b.sync?(a.emit("data",
c),a.read(0)):(b.length+=b.objectMode?1:c.length,h?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&e(a)));b.readingMore||(b.readingMore=!0,A(t,a,b))}else h||(b.reading=!1);return!b.ended&&(b.needReadable||b.length<b.highWaterMark||0===b.length)}function h(a,b){if(0>=a||0===b.length&&b.ended)return 0;if(b.objectMode)return 1;if(a!==a)return b.flowing&&b.length?b.buffer.head.data.length:b.length;if(a>b.highWaterMark){var c=a;8388608<=c?c=8388608:(c--,c|=c>>>1,c|=c>>>2,c|=c>>>4,c|=c>>>8,c|=c>>>
16,c++);b.highWaterMark=c}return a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0)}function e(a){var b=a._readableState;b.needReadable=!1;b.emittedReadable||(q("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?A(m,a):m(a))}function m(a){q("emit readable");a.emit("readable");x(a)}function t(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(q("maybeReadMore read 0"),a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function p(a){return function(){var b=a._readableState;
q("pipeOnDrain",b.awaitDrain);b.awaitDrain&&b.awaitDrain--;0===b.awaitDrain&&a.listeners("data").length&&(b.flowing=!0,x(a))}}function n(a){q("readable nexttick read 0");a.read(0)}function r(a,b){b.reading||(q("resume read 0"),a.read(0));b.resumeScheduled=!1;b.awaitDrain=0;a.emit("resume");x(a);b.flowing&&!b.reading&&a.read(0)}function x(a){var b=a._readableState;for(q("flow",b.flowing);b.flowing&&null!==a.read(););}function B(a,b){if(0===b.length)return null;var c;if(b.objectMode)c=b.buffer.shift();
else if(!a||a>=b.length)c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.head.data:b.buffer.concat(b.length),b.buffer.clear();else{c=b.buffer;var d=b.decoder;if(a<c.head.data.length)d=c.head.data.slice(0,a),c.head.data=c.head.data.slice(a);else{if(a===c.head.data.length)c=c.shift();else if(d){for(var e=c.head,h=1,f=e.data,d=a-f.length;e=e.next;){var g=e.data,k=d>g.length?g.length:d,f=k===g.length?f+g:f+g.slice(0,d),d=d-k;if(0===d){k===g.length?(++h,c.head=e.next?e.next:c.tail=null):(c.head=
e,e.data=g.slice(k));break}++h}c.length-=h;c=f}else{d=a;e=I.allocUnsafe(d);h=c.head;f=1;h.data.copy(e);for(d-=h.data.length;h=h.next;){g=h.data;k=d>g.length?g.length:d;g.copy(e,e.length-d,0,k);d-=k;if(0===d){k===g.length?(++f,c.head=h.next?h.next:c.tail=null):(c.head=h,h.data=g.slice(k));break}++f}c.length-=f;c=e}d=c}c=d}return c}function w(a){var b=a._readableState;if(0<b.length)throw Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,A(z,b,a))}function z(a,b){a.endEmitted||
0!==a.length||(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function u(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)}function v(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}f.exports=b;var A=a("process-nextick-args"),D=a("isarray");b.ReadableState=k;a("events");var G;try{G=a("stream")}catch(K){}finally{G||(G=a("events").EventEmitter)}var y=a("buffer").Buffer,I=a("buffer-shims"),C=a("core-util-is");C.inherits=a("inherits");var J=a("util"),q=void 0,q=J&&J.debuglog?J.debuglog("stream"):
function(){},E=a("./internal/streams/BufferList"),H;C.inherits(b,G);var F;b.prototype.push=function(a,b){var c=this._readableState;c.objectMode||"string"!==typeof a||(b=b||c.defaultEncoding,b!==c.encoding&&(a=I.from(a,b),b=""));return l(this,c,a,b,!1)};b.prototype.unshift=function(a){return l(this,this._readableState,a,"",!0)};b.prototype.isPaused=function(){return!1===this._readableState.flowing};b.prototype.setEncoding=function(b){H||(H=a("string_decoder/").StringDecoder);this._readableState.decoder=
new H(b);this._readableState.encoding=b;return this};b.prototype.read=function(a){q("read",a);a=parseInt(a,10);var b=this._readableState,c=a;0!==a&&(b.emittedReadable=!1);if(0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return q("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?w(this):e(this),null;a=h(a,b);if(0===a&&b.ended)return 0===b.length&&w(this),null;var d=b.needReadable;q("need readable",d);if(0===b.length||b.length-a<b.highWaterMark)d=!0,q("length less than watermark",
d);b.ended||b.reading?q("reading or ended",!1):d&&(q("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(a=h(c,b)));d=0<a?B(a,b):null;null===d?(b.needReadable=!0,a=0):b.length-=a;0===b.length&&(b.ended||(b.needReadable=!0),c!==a&&b.ended&&w(this));null!==d&&this.emit("data",d);return d};b.prototype._read=function(a){this.emit("error",Error("not implemented"))};b.prototype.pipe=function(a,b){function e(a){q("onunpipe");a===t&&f()}function h(){q("onend");
a.end()}function f(){q("cleanup");a.removeListener("close",m);a.removeListener("finish",n);a.removeListener("drain",u);a.removeListener("error",l);a.removeListener("unpipe",e);t.removeListener("end",h);t.removeListener("end",f);t.removeListener("data",k);G=!0;!y.awaitDrain||a._writableState&&!a._writableState.needDrain||u()}function k(b){q("ondata");C=!1;!1!==a.write(b)||C||((1===y.pipesCount&&y.pipes===a||1<y.pipesCount&&-1!==v(y.pipes,a))&&!G&&(q("false write response, pause",t._readableState.awaitDrain),
t._readableState.awaitDrain++,C=!0),t.pause())}function l(b){q("onerror",b);D();a.removeListener("error",l);0===a.listeners("error").length&&a.emit("error",b)}function m(){a.removeListener("finish",n);D()}function n(){q("onfinish");a.removeListener("close",m);D()}function D(){q("unpipe");t.unpipe(a)}var t=this,y=this._readableState;switch(y.pipesCount){case 0:y.pipes=a;break;case 1:y.pipes=[y.pipes,a];break;default:y.pipes.push(a)}y.pipesCount+=1;q("pipe count=%d opts=%j",y.pipesCount,b);var r=b&&
!1===b.end||a===d.stdout||a===d.stderr?f:h;if(y.endEmitted)A(r);else t.once("end",r);a.on("unpipe",e);var u=p(t);a.on("drain",u);var G=!1,C=!1;t.on("data",k);c(a,"error",l);a.once("close",m);a.once("finish",n);a.emit("pipe",t);y.flowing||(q("pipe resume"),t.resume());return a};b.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount){if(a&&a!==b.pipes)return this;a||(a=b.pipes);b.pipes=null;b.pipesCount=0;b.flowing=!1;a&&a.emit("unpipe",this);return this}if(!a){a=
b.pipes;var c=b.pipesCount;b.pipes=null;b.pipesCount=0;b.flowing=!1;for(b=0;b<c;b++)a[b].emit("unpipe",this);return this}c=v(b.pipes,a);if(-1===c)return this;b.pipes.splice(c,1);--b.pipesCount;1===b.pipesCount&&(b.pipes=b.pipes[0]);a.emit("unpipe",this);return this};b.prototype.on=function(a,b){var c=G.prototype.on.call(this,a,b);if("data"===a)!1!==this._readableState.flowing&&this.resume();else if("readable"===a){var d=this._readableState;d.endEmitted||d.readableListening||(d.readableListening=d.needReadable=
!0,d.emittedReadable=!1,d.reading?d.length&&e(this,d):A(n,this))}return c};b.prototype.addListener=b.prototype.on;b.prototype.resume=function(){var a=this._readableState;a.flowing||(q("resume"),a.flowing=!0,a.resumeScheduled||(a.resumeScheduled=!0,A(r,this,a)));return this};b.prototype.pause=function(){q("call pause flowing=%j",this._readableState.flowing);!1!==this._readableState.flowing&&(q("pause"),this._readableState.flowing=!1,this.emit("pause"));return this};b.prototype.wrap=function(a){var b=
this._readableState,c=!1,d=this;a.on("end",function(){q("wrapped end");if(b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&d.push(a)}d.push(null)});a.on("data",function(e){q("wrapped data");b.decoder&&(e=b.decoder.write(e));b.objectMode&&(null===e||void 0===e)||!(b.objectMode||e&&e.length)||d.push(e)||(c=!0,a.pause())});for(var e in a)void 0===this[e]&&"function"===typeof a[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));u(["error","close","destroy","pause",
"resume"],function(b){a.on(b,d.emit.bind(d,b))});d._read=function(b){q("wrapped _read",b);c&&(c=!1,a.resume())};return d};b._fromList=B}).call(this,a("_process"))},{"./_stream_duplex":53,"./internal/streams/BufferList":58,_process:51,buffer:44,"buffer-shims":59,"core-util-is":60,events:48,inherits:49,isarray:61,"process-nextick-args":62,"string_decoder/":69,util:43}],56:[function(a,f,d){function g(a){this.afterTransform=function(b,c){var d;d=a._transformState;d.transforming=!1;var f=d.writecb;f?(d.writechunk=
null,d.writecb=null,null!==c&&void 0!==c&&a.push(c),f(b),d=a._readableState,d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&a._read(d.highWaterMark),d=void 0):d=a.emit("error",Error("no writecb in Transform class"));return d};this.transforming=this.needTransform=!1;this.writeencoding=this.writechunk=this.writecb=null}function c(a){if(!(this instanceof c))return new c(a);b.call(this,a);this._transformState=new g(this);var d=this;this._readableState.needReadable=!0;this._readableState.sync=
!1;a&&("function"===typeof a.transform&&(this._transform=a.transform),"function"===typeof a.flush&&(this._flush=a.flush));this.once("prefinish",function(){"function"===typeof this._flush?this._flush(function(a){k(d,a)}):k(d)})}function k(a,b){if(b)return a.emit("error",b);var c=a._transformState;if(a._writableState.length)throw Error("Calling transform done when ws.length != 0");if(c.transforming)throw Error("Calling transform done when still transforming");return a.push(null)}f.exports=c;var b=a("./_stream_duplex");
f=a("core-util-is");f.inherits=a("inherits");f.inherits(c,b);c.prototype.push=function(a,c){this._transformState.needTransform=!1;return b.prototype.push.call(this,a,c)};c.prototype._transform=function(a,b,c){throw Error("Not implemented");};c.prototype._write=function(a,b,c){var d=this._transformState;d.writecb=c;d.writechunk=a;d.writeencoding=b;d.transforming||(a=this._readableState,(d.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark))};c.prototype._read=function(a){a=
this._transformState;null!==a.writechunk&&a.writecb&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0}},{"./_stream_duplex":53,"core-util-is":60,inherits:49}],57:[function(a,f,d){(function(d){function c(){}function k(a,b,c){this.chunk=a;this.encoding=b;this.callback=c;this.next=null}function b(b,c){v=v||a("./_stream_duplex");b=b||{};this.objectMode=!!b.objectMode;c instanceof v&&(this.objectMode=this.objectMode||!!b.writableObjectMode);
var d=b.highWaterMark,h=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:h;this.highWaterMark=~~this.highWaterMark;this.finished=this.ended=this.ending=this.needDrain=!1;this.decodeStrings=!1!==b.decodeStrings;this.defaultEncoding=b.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.corked=0;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(a){var b=c._writableState,d=b.sync,h=b.writecb;b.writing=!1;b.writecb=null;b.length-=b.writelen;b.writelen=0;a?(--b.pendingcb,d?r(h,a):
h(a),c._writableState.errorEmitted=!0,c.emit("error",a)):((a=t(b))||b.corked||b.bufferProcessing||!b.bufferedRequest||m(c,b),d?x(e,c,b,a,h):e(c,b,a,h))};this.writecb=null;this.writelen=0;this.lastBufferedRequest=this.bufferedRequest=null;this.pendingcb=0;this.errorEmitted=this.prefinished=!1;this.bufferedRequestCount=0;this.corkedRequestsFree=new n(this)}function l(c){v=v||a("./_stream_duplex");if(!(this instanceof l||this instanceof v))return new l(c);this._writableState=new b(c,this);this.writable=
!0;c&&("function"===typeof c.write&&(this._write=c.write),"function"===typeof c.writev&&(this._writev=c.writev));w.call(this)}function h(a,b,c,d,e,h,f){b.writelen=d;b.writecb=f;b.writing=!0;b.sync=!0;c?a._writev(e,b.onwrite):a._write(e,h,b.onwrite);b.sync=!1}function e(a,b,c,d){!c&&0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"));b.pendingcb--;d();p(a,b)}function m(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var d=Array(b.bufferedRequestCount),e=b.corkedRequestsFree;
e.entry=c;for(var f=0;c;)d[f]=c,c=c.next,f+=1;h(a,b,!0,b.length,d,"",e.finish);b.pendingcb++;b.lastBufferedRequest=null;e.next?(b.corkedRequestsFree=e.next,e.next=null):b.corkedRequestsFree=new n(b)}else{for(;c&&(d=c.chunk,h(a,b,!1,b.objectMode?1:d.length,d,c.encoding,c.callback),c=c.next,!b.writing););null===c&&(b.lastBufferedRequest=null)}b.bufferedRequestCount=0;b.bufferedRequest=c;b.bufferProcessing=!1}function t(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}
function p(a,b){var c=t(b);c&&(0===b.pendingcb?(b.prefinished||(b.prefinished=!0,a.emit("prefinish")),b.finished=!0,a.emit("finish")):b.prefinished||(b.prefinished=!0,a.emit("prefinish")));return c}function n(a){var b=this;this.entry=this.next=null;this.finish=function(c){var d=b.entry;for(b.entry=null;d;){var e=d.callback;a.pendingcb--;e(c);d=d.next}a.corkedRequestsFree?a.corkedRequestsFree.next=b:a.corkedRequestsFree=b}}f.exports=l;var r=a("process-nextick-args"),x=!d.browser&&-1<["v0.10","v0.9."].indexOf(d.version.slice(0,
5))?setImmediate:r;l.WritableState=b;d=a("core-util-is");d.inherits=a("inherits");var B={deprecate:a("util-deprecate")},w;try{w=a("stream")}catch(A){}finally{w||(w=a("events").EventEmitter)}var z=a("buffer").Buffer,u=a("buffer-shims");d.inherits(l,w);var v;b.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b};(function(){try{Object.defineProperty(b.prototype,"buffer",{get:B.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(a){}})();
l.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))};l.prototype.write=function(a,b,d){var e=this._writableState,f=!1;"function"===typeof b&&(d=b,b=null);z.isBuffer(a)?b="buffer":b||(b=e.defaultEncoding);"function"!==typeof d&&(d=c);if(e.ended)e=d,a=Error("write after end"),this.emit("error",a),r(e,a);else{var g=d,l=!0,m=!1;null===a?m=new TypeError("May not write null values to stream"):z.isBuffer(a)||"string"===typeof a||void 0===a||e.objectMode||(m=new TypeError("Invalid non-string/buffer chunk"));
m&&(this.emit("error",m),r(g,m),l=!1);l&&(e.pendingcb++,f=b,e.objectMode||!1===e.decodeStrings||"string"!==typeof a||(a=u.from(a,f)),z.isBuffer(a)&&(f="buffer"),g=e.objectMode?1:a.length,e.length+=g,b=e.length<e.highWaterMark,b||(e.needDrain=!0),e.writing||e.corked?(g=e.lastBufferedRequest,e.lastBufferedRequest=new k(a,f,d),g?g.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1):h(this,e,!1,g,a,f,d),f=b)}return f};l.prototype.cork=function(){this._writableState.corked++};
l.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.bufferedRequest||m(this,a))};l.prototype.setDefaultEncoding=function(a){"string"===typeof a&&(a=a.toLowerCase());if(!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((a+"").toLowerCase())))throw new TypeError("Unknown encoding: "+a);this._writableState.defaultEncoding=a;return this};l.prototype._write=function(a,b,c){c(Error("not implemented"))};
l.prototype._writev=null;l.prototype.end=function(a,b,c){var d=this._writableState;"function"===typeof a?(c=a,b=a=null):"function"===typeof b&&(c=b,b=null);null!==a&&void 0!==a&&this.write(a,b);d.corked&&(d.corked=1,this.uncork());if(!d.ending&&!d.finished){a=c;d.ending=!0;p(this,d);if(a)if(d.finished)r(a);else this.once("finish",a);d.ended=!0;this.writable=!1}}}).call(this,a("_process"))},{"./_stream_duplex":53,_process:51,buffer:44,"buffer-shims":59,"core-util-is":60,events:48,inherits:49,"process-nextick-args":62,
"util-deprecate":63}],58:[function(a,f,d){function g(){this.tail=this.head=null;this.length=0}a("buffer");var c=a("buffer-shims");f.exports=g;g.prototype.push=function(a){a={data:a,next:null};0<this.length?this.tail.next=a:this.head=a;this.tail=a;++this.length};g.prototype.unshift=function(a){a={data:a,next:this.head};0===this.length&&(this.tail=a);this.head=a;++this.length};g.prototype.shift=function(){if(0!==this.length){var a=this.head.data;this.head=1===this.length?this.tail=null:this.head.next;
--this.length;return a}};g.prototype.clear=function(){this.head=this.tail=null;this.length=0};g.prototype.join=function(a){if(0===this.length)return"";for(var b=this.head,c=""+b.data;b=b.next;)c+=a+b.data;return c};g.prototype.concat=function(a){if(0===this.length)return c.alloc(0);if(1===this.length)return this.head.data;a=c.allocUnsafe(a>>>0);for(var b=this.head,d=0;b;)b.data.copy(a,d),d+=b.data.length,b=b.next;return a}},{buffer:44,"buffer-shims":59}],59:[function(a,f,d){(function(f){var c=a("buffer"),
k=c.Buffer,b=c.SlowBuffer,l=c.kMaxLength||2147483647;d.alloc=function(a,b,c){if("function"===typeof k.alloc)return k.alloc(a,b,c);if("number"===typeof c)throw new TypeError("encoding must not be number");if("number"!==typeof a)throw new TypeError("size must be a number");if(a>l)throw new RangeError("size is too large");var d=b;void 0===d&&(c=void 0,d=0);b=new k(a);if("string"===typeof d){c=new k(d,c);for(var d=c.length,f=-1;++f<a;)b[f]=c[f%d]}else b.fill(d);return b};d.allocUnsafe=function(a){if("function"===
typeof k.allocUnsafe)return k.allocUnsafe(a);if("number"!==typeof a)throw new TypeError("size must be a number");if(a>l)throw new RangeError("size is too large");return new k(a)};d.from=function(a,b,c){if("function"===typeof k.from&&(!f.Uint8Array||Uint8Array.from!==k.from))return k.from(a,b,c);if("number"===typeof a)throw new TypeError('"value" argument must not be a number');if("string"===typeof a)return new k(a,b);if("undefined"!==typeof ArrayBuffer&&a instanceof ArrayBuffer){var d=b;if(1===arguments.length)return new k(a);
"undefined"===typeof d&&(d=0);var l=c;"undefined"===typeof l&&(l=a.byteLength-d);if(d>=a.byteLength)throw new RangeError("'offset' is out of bounds");if(l>a.byteLength-d)throw new RangeError("'length' is out of bounds");return new k(a.slice(d,d+l))}if(k.isBuffer(a))return d=new k(a.length),a.copy(d,0,0,a.length),d;if(a){if(Array.isArray(a)||"undefined"!==typeof ArrayBuffer&&a.buffer instanceof ArrayBuffer||"length"in a)return new k(a);if("Buffer"===a.type&&Array.isArray(a.data))return new k(a.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");
};d.allocUnsafeSlow=function(a){if("function"===typeof k.allocUnsafeSlow)return k.allocUnsafeSlow(a);if("number"!==typeof a)throw new TypeError("size must be a number");if(a>=l)throw new RangeError("size is too large");return new b(a)}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{buffer:44}],60:[function(a,f,d){(function(a){d.isArray=function(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)};
d.isBoolean=function(a){return"boolean"===typeof a};d.isNull=function(a){return null===a};d.isNullOrUndefined=function(a){return null==a};d.isNumber=function(a){return"number"===typeof a};d.isString=function(a){return"string"===typeof a};d.isSymbol=function(a){return"symbol"===typeof a};d.isUndefined=function(a){return void 0===a};d.isRegExp=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)};d.isObject=function(a){return"object"===typeof a&&null!==a};d.isDate=function(a){return"[object Date]"===
Object.prototype.toString.call(a)};d.isError=function(a){return"[object Error]"===Object.prototype.toString.call(a)||a instanceof Error};d.isFunction=function(a){return"function"===typeof a};d.isPrimitive=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a};d.isBuffer=a.isBuffer}).call(this,{isBuffer:a("../../../../insert-module-globals/node_modules/is-buffer/index.js")})},{"../../../../insert-module-globals/node_modules/is-buffer/index.js":50}],
61:[function(a,f,d){arguments[4][47][0].apply(d,arguments)},{dup:47}],62:[function(a,f,d){(function(a){function c(c,b,d,f){if("function"!==typeof c)throw new TypeError('"callback" argument must be a function');var e=arguments.length,m;switch(e){case 0:case 1:return a.nextTick(c);case 2:return a.nextTick(function(){c.call(null,b)});case 3:return a.nextTick(function(){c.call(null,b,d)});case 4:return a.nextTick(function(){c.call(null,b,d,f)});default:m=Array(e-1);for(e=0;e<m.length;)m[e++]=arguments[e];
return a.nextTick(function(){c.apply(null,m)})}}!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?f.exports=c:f.exports=a.nextTick}).call(this,a("_process"))},{_process:51}],63:[function(a,f,d){(function(a){function c(c){try{if(!a.localStorage)return!1}catch(b){return!1}c=a.localStorage[c];return null==c?!1:"true"===String(c).toLowerCase()}f.exports=function(a,b){if(c("noDeprecation"))return a;var d=!1;return function(){if(!d){if(c("throwDeprecation"))throw Error(b);
c("traceDeprecation")?console.trace(b):console.warn(b);d=!0}return a.apply(this,arguments)}}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],64:[function(a,f,d){f.exports=a("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":54}],65:[function(a,f,d){var g=a("_process"),c;a:{try{c=a("stream");break a}catch(k){}c=void 0}d=f.exports=a("./lib/_stream_readable.js");d.Stream=c||d;d.Readable=d;d.Writable=a("./lib/_stream_writable.js");
d.Duplex=a("./lib/_stream_duplex.js");d.Transform=a("./lib/_stream_transform.js");d.PassThrough=a("./lib/_stream_passthrough.js");!g.browser&&"disable"===g.env.READABLE_STREAM&&c&&(f.exports=c)},{"./lib/_stream_duplex.js":53,"./lib/_stream_passthrough.js":54,"./lib/_stream_readable.js":55,"./lib/_stream_transform.js":56,"./lib/_stream_writable.js":57,_process:51}],66:[function(a,f,d){f.exports=a("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":56}],67:[function(a,f,d){f.exports=a("./lib/_stream_writable.js")},
{"./lib/_stream_writable.js":57}],68:[function(a,f,d){function g(){c.call(this)}f.exports=g;var c=a("events").EventEmitter;a("inherits")(g,c);g.Readable=a("readable-stream/readable.js");g.Writable=a("readable-stream/writable.js");g.Duplex=a("readable-stream/duplex.js");g.Transform=a("readable-stream/transform.js");g.PassThrough=a("readable-stream/passthrough.js");g.Stream=g;g.prototype.pipe=function(a,b){function d(b){a.writable&&!1===a.write(b)&&n.pause&&n.pause()}function f(){n.readable&&n.resume&&
n.resume()}function e(){r||(r=!0,a.end())}function g(){r||(r=!0,"function"===typeof a.destroy&&a.destroy())}function t(a){p();if(0===c.listenerCount(this,"error"))throw a;}function p(){n.removeListener("data",d);a.removeListener("drain",f);n.removeListener("end",e);n.removeListener("close",g);n.removeListener("error",t);a.removeListener("error",t);n.removeListener("end",p);n.removeListener("close",p);a.removeListener("close",p)}var n=this;n.on("data",d);a.on("drain",f);a._isStdio||b&&!1===b.end||
(n.on("end",e),n.on("close",g));var r=!1;n.on("error",t);a.on("error",t);n.on("end",p);n.on("close",p);a.on("close",p);a.emit("pipe",n);return a}},{events:48,inherits:49,"readable-stream/duplex.js":52,"readable-stream/passthrough.js":64,"readable-stream/readable.js":65,"readable-stream/transform.js":66,"readable-stream/writable.js":67}],69:[function(a,f,d){function g(a){return a.toString(this.encoding)}function c(a){this.charLength=(this.charReceived=a.length%2)?2:0}function k(a){this.charLength=
(this.charReceived=a.length%3)?3:0}var b=a("buffer").Buffer,l=b.isEncoding||function(a){switch(a&&a.toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":case "raw":return!0;default:return!1}};a=d.StringDecoder=function(a){this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,"");if(a&&!l(a))throw Error("Unknown encoding: "+a);switch(this.encoding){case "utf8":this.surrogateSize=3;break;case "ucs2":case "utf16le":this.surrogateSize=
2;this.detectIncompleteChar=c;break;case "base64":this.surrogateSize=3;this.detectIncompleteChar=k;break;default:this.write=g;return}this.charBuffer=new b(6);this.charLength=this.charReceived=0};a.prototype.write=function(a){for(var b="";this.charLength;){b=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;a.copy(this.charBuffer,this.charReceived,0,b);this.charReceived+=b;if(this.charReceived<this.charLength)return"";a=a.slice(b,a.length);var b=this.charBuffer.slice(0,
this.charLength).toString(this.encoding),c=b.charCodeAt(b.length-1);if(55296<=c&&56319>=c)this.charLength+=this.surrogateSize,b="";else{this.charReceived=this.charLength=0;if(0===a.length)return b;break}}this.detectIncompleteChar(a);var d=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-this.charReceived,d),d-=this.charReceived);b+=a.toString(this.encoding,0,d);d=b.length-1;c=b.charCodeAt(d);return 55296<=c&&56319>=c?(c=this.surrogateSize,this.charLength+=c,this.charReceived+=c,this.charBuffer.copy(this.charBuffer,
c,0,c),a.copy(this.charBuffer,0,0,c),b.substring(0,d)):b};a.prototype.detectIncompleteChar=function(a){for(var b=3<=a.length?3:a.length;0<b;b--){var c=a[a.length-b];if(1==b&&6==c>>5){this.charLength=2;break}if(2>=b&&14==c>>4){this.charLength=3;break}if(3>=b&&30==c>>3){this.charLength=4;break}}this.charReceived=b};a.prototype.end=function(a){var b="";a&&a.length&&(b=this.write(a));this.charReceived&&(a=this.encoding,b+=this.charBuffer.slice(0,this.charReceived).toString(a));return b}},{buffer:44}]},
{},[1]);Storj.Utils={};Storj.Utils.sha256=function(a,f){return Storj.Exports.createHash("sha256").update(a,f).digest("hex")};Storj.Utils.rmd160=function(a,f){return(new Storj.Exports.createHash("rmd160")).update(a,f).digest("hex")};Storj.Utils.sha512=function(a,f){return(new Storj.Exports.createHash("sha512")).update(a,f).digest("hex")};Storj.Utils.rmd160sha256=function(a,f){return Storj.Utils.rmd160(Storj.Utils.sha256(a,f),"hex")};Storj.Utils.pbkdf2Sync=Storj.Exports.pbkdf2Sync;
Storj.Utils.calculateBucketId=function(a,f){var d=Storj.Utils.rmd160sha256;return d(a+f,"utf-8").substring(0,24)};Storj.Utils.calculateFileId=function(a,f){var d=Storj.Utils.rmd160sha256;return d(a+f,"utf-8").substring(0,24)};Storj.Utils.calculateFileIdByName=function(a,f,d){a=Storj.Utils.calculateBucketId(a,f);return Storj.Utils.calculateFileId(a,d)};
Storj.Utils.createDecryptor=function(a,f){var d=Storj.Utils,g=Storj.Exports,c=d.sha512(a+f).toString("hex").substring(0,64),c=d.sha256(c),d=d.rmd160(f);return g.createDecipheriv("aes-256-ctr",new g.Buffer(c,"hex"),(new g.Buffer(d,"hex")).slice(0,16))};
Storj.Utils.request=function(a,f){var d=a.method,g=a.url,c=a.responseType,k=a.data,b=a.headers?a.headers:{},l=new XMLHttpRequest,g=g+function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return 0<b.length?"?"+b.join("&"):""}(a.qs?a.qs:{});l.open(d,g,!0);l.responseType=c;l.setRequestHeader("Content-Type","application/json");for(var h in b)l.setRequestHeader(h,b[h]);l.addEventListener("load",function(a){if((a=a.target.response)&&a.err)return f("Could not load asset");
f(null,a)});l.addEventListener("error",function(a){console.log(a);f("Could not load asset")});l.send(k)};Storj.BridgeClient=function(){var a=Storj.Config,f=Storj.Utils;this.createToken=function(d,g,c){f.request({method:"POST",url:a.bridge+"/buckets/"+d+"/tokens",responseType:"json",data:JSON.stringify({operation:g})},c)};this.getFilePointers=function(d,g){f.request({method:"GET",url:a.bridge+"/buckets/"+d.bucket+"/files/"+d.file,responseType:"json",headers:{"x-token":d.token},qs:{skip:d.skip,limit:d.limit,exclude:Array.isArray(d.exclude)?d.exclude.join():null}},g)}};Storj.Downloader=function(a,f){var d=Storj.Utils;this.bucketId=a.bucketId?a.bucketId:d.calculateBucketId(a.user,a.bucket);this.fileId=a.fileId?a.fileId:d.calculateFileId(this.bucketId,a.file);this.maxConcurrent=6;this.client=new Storj.BridgeClient;this.callback=f;this.skip=0;this.limit=null;this.fileData=[];this._createToken()};
Storj.Downloader.prototype._createToken=function(){console.log("create token");var a=this,f=a.client;f.createToken(a.bucketId,"PULL",function(d,g){a.token=g;f.getFilePointers({bucket:a.bucketId,file:a.fileId,token:g.token,skip:a.skip,limit:a.limit,exclude:[]},function(c,d){a._resolvePointers(d)})})};
Storj.Downloader.prototype._resolvePointers=function(a){console.log("resolve pointers");for(var f=this,d=a.length,g=0,c=function(b,h){var e=b.farmer,k=[],t=0,p=b.size,n=new Storj.Socket({url:"ws://"+e.address+":"+e.port,onOpen:function(){n.send(JSON.stringify({token:b.token,hash:b.hash,operation:"PULL"}))},onData:function(b){k.push(b.data);t+=b.data.size;console.log("msg",h,100*t/p);if(t==p)if(n.close(),f.fileData[h]=k,g+=1,g==d)f._decrypt();else{b=g+f.maxConcurrent-1;var e=a[b];e&&c(e,b)}}})},k=
Math.min(d,f.maxConcurrent),b=0;b<k;b++)c(a[b],b)};Storj.Downloader.prototype._decrypt=function(){var a=Storj.Utils,f=[].concat.apply([],this.fileData),f=new Blob(f),a=a.createDecryptor(this.token.encryptionKey,this.fileId);this._decryptBlob(f,a)};
Storj.Downloader.prototype._decryptBlob=function(a,f){var d=this,g=Storj.Exports,c=new FileReader;c.onload=function(){var a=[],b=g.Buffer(this.result,"binary");f.on("readable",function(){var b=f.read();b&&a.push(b)});f.on("end",function(){d.callback(null,new Blob(a))});for(var c=0;c<b.length;c+=5E4)f.write(b.slice(c,c+5E4));f.end()};c.readAsBinaryString(a)};Storj.Stream=function(a,f){var d=this,g=Storj.Utils;d.bucketId=a.bucketId?a.bucketId:g.calculateBucketId(a.user,a.bucket);d.fileId=a.fileId?a.fileId:g.calculateFileId(d.bucketId,a.file);d.client=new Storj.BridgeClient;d.skip=0;d.fileData=[];d.element=a.element;d.codec=a.codec;d.segmentCount=0;var c=new MediaSource;d.element.src=URL.createObjectURL(c);var k=[];c.addEventListener("sourceopen",function(){var a=c.addSourceBuffer(d.codec);a.mode="sequence";var f=!1,g=function(){if(!a.updating&&0!==k.length&&
!f){var c=k.shift();try{a.appendBuffer(c),f=!1}catch(d){k.unshift(c),f=!0,setTimeout(g,1E3)}}};d.callback=function(a,b){k.push(b);g()};a.addEventListener("updateend",function(){d.segmentCount+=1;g();d.element.paused&&1==d.segmentCount&&d.element.play()});d._createToken()})};Storj.Stream.prototype._createDecipher=function(){var a=this,f=Storj.Utils.createDecryptor(a.token.encryptionKey,a.fileId);f.on("readable",function(){var d=f.read();d&&0!=d.length&&a.callback(null,d)});a.decipher=f};
Storj.Stream.prototype._createToken=function(){console.log("create token");var a=this;a.client.createToken(a.bucketId,"PULL",function(f,d){a.token=d;0==a.skip&&a._createDecipher();a._getNextSlice()})};Storj.Stream.prototype._getNextSlice=function(a){console.log("getNextSlice");var f=this;a=f.client;var d={bucket:f.bucketId,file:f.fileId,token:f.token.token,skip:f.skip,limit:1,exclude:[]};f.skip+=1;a.getFilePointers(d,function(a,c){a||0==c.length||f._resolvePointer(c[0])})};
Storj.Stream.prototype._resolvePointer=function(a,f){console.log("resolvePointer");var d=this,g=Storj.Exports,c=a.farmer,k=0,b=a.size,l=!1,h=new Storj.Socket({url:"ws://"+c.address+":"+c.port,onOpen:function(){h.send(JSON.stringify({token:a.token,hash:a.hash,operation:"PULL"}))},onData:function(a){k+=a.data.size;console.log("msg",k/b);var c=new FileReader;c.onload=function(){for(var a=g.Buffer(this.result,"binary"),c=0;c<a.length;c+=5E4)d.decipher.write(a.slice(c,c+5E4));k!=b||l||(h.close(),l=!0,
console.log("done"),d._createToken())};c.readAsBinaryString(a.data)}})};
